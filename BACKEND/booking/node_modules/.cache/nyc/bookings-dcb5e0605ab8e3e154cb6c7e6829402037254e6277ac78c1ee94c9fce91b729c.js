function cov_2inguvl7ui(){var path="D:\\CAPGEMINI\\MEANSTACK\\CASE STUDY\\RAILWAY\\BACKEND\\booking\\bookings.js";var hash="dcb4382dec84a325de52ddb59702d58978fe9748";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\CAPGEMINI\\MEANSTACK\\CASE STUDY\\RAILWAY\\BACKEND\\booking\\bookings.js",statementMap:{"0":{start:{line:2,column:14},end:{line:2,column:32}},"1":{start:{line:3,column:10},end:{line:3,column:19}},"2":{start:{line:6,column:11},end:{line:6,column:28}},"3":{start:{line:9,column:12},end:{line:9,column:28}},"4":{start:{line:12,column:17},end:{line:12,column:39}},"5":{start:{line:13,column:0},end:{line:13,column:27}},"6":{start:{line:16,column:15},end:{line:16,column:34}},"7":{start:{line:19,column:0},end:{line:21,column:3}},"8":{start:{line:20,column:2},end:{line:20,column:58}},"9":{start:{line:24,column:11},end:{line:24,column:26}},"10":{start:{line:25,column:0},end:{line:25,column:16}},"11":{start:{line:28,column:19},end:{line:28,column:43}},"12":{start:{line:29,column:16},end:{line:29,column:45}},"13":{start:{line:31,column:21},end:{line:47,column:1}},"14":{start:{line:48,column:18},end:{line:48,column:46}},"15":{start:{line:49,column:0},end:{line:49,column:66}},"16":{start:{line:51,column:0},end:{line:51,column:21}},"17":{start:{line:52,column:14},end:{line:52,column:39}},"18":{start:{line:56,column:0},end:{line:58,column:3}},"19":{start:{line:57,column:2},end:{line:57,column:42}},"20":{start:{line:91,column:0},end:{line:99,column:3}},"21":{start:{line:92,column:2},end:{line:98,column:4}},"22":{start:{line:93,column:4},end:{line:93,column:28}},"23":{start:{line:95,column:4},end:{line:97,column:5}},"24":{start:{line:96,column:6},end:{line:96,column:16}},"25":{start:{line:123,column:0},end:{line:131,column:3}},"26":{start:{line:124,column:2},end:{line:130,column:4}},"27":{start:{line:125,column:4},end:{line:125,column:28}},"28":{start:{line:127,column:4},end:{line:129,column:5}},"29":{start:{line:128,column:6},end:{line:128,column:16}},"30":{start:{line:134,column:8},end:{line:134,column:11}},"31":{start:{line:135,column:0},end:{line:191,column:3}},"32":{start:{line:136,column:16},end:{line:136,column:36}},"33":{start:{line:138,column:17},end:{line:152,column:1}},"34":{start:{line:153,column:2},end:{line:189,column:6}},"35":{start:{line:154,column:13},end:{line:154,column:29}},"36":{start:{line:155,column:4},end:{line:155,column:20}},"37":{start:{line:156,column:4},end:{line:174,column:5}},"38":{start:{line:175,column:0},end:{line:175,column:24}},"39":{start:{line:177,column:19},end:{line:177,column:42}},"40":{start:{line:179,column:7},end:{line:186,column:9}},"41":{start:{line:180,column:22},end:{line:180,column:37}},"42":{start:{line:181,column:9},end:{line:181,column:40}},"43":{start:{line:183,column:9},end:{line:185,column:10}},"44":{start:{line:184,column:11},end:{line:184,column:21}},"45":{start:{line:187,column:7},end:{line:187,column:52}},"46":{start:{line:188,column:7},end:{line:188,column:13}},"47":{start:{line:196,column:0},end:{line:200,column:3}},"48":{start:{line:197,column:2},end:{line:199,column:4}},"49":{start:{line:198,column:4},end:{line:198,column:22}},"50":{start:{line:226,column:0},end:{line:230,column:3}},"51":{start:{line:227,column:2},end:{line:229,column:4}},"52":{start:{line:228,column:4},end:{line:228,column:22}},"53":{start:{line:235,column:0},end:{line:254,column:3}},"54":{start:{line:236,column:10},end:{line:236,column:49}},"55":{start:{line:238,column:10},end:{line:238,column:12}},"56":{start:{line:240,column:2},end:{line:253,column:4}},"57":{start:{line:241,column:4},end:{line:247,column:5}},"58":{start:{line:242,column:18},end:{line:245,column:7}},"59":{start:{line:246,column:6},end:{line:246,column:24}},"60":{start:{line:248,column:4},end:{line:248,column:18}},"61":{start:{line:250,column:4},end:{line:252,column:5}},"62":{start:{line:251,column:6},end:{line:251,column:16}},"63":{start:{line:270,column:0},end:{line:278,column:3}},"64":{start:{line:271,column:2},end:{line:277,column:4}},"65":{start:{line:272,column:4},end:{line:272,column:23}},"66":{start:{line:274,column:4},end:{line:276,column:5}},"67":{start:{line:275,column:6},end:{line:275,column:16}},"68":{start:{line:302,column:0},end:{line:306,column:2}},"69":{start:{line:303,column:2},end:{line:305,column:4}},"70":{start:{line:304,column:4},end:{line:304,column:47}},"71":{start:{line:310,column:0},end:{line:312,column:3}},"72":{start:{line:311,column:2},end:{line:311,column:65}},"73":{start:{line:314,column:0},end:{line:314,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:91},end:{line:19,column:92}},loc:{start:{line:19,column:95},end:{line:21,column:1}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:56,column:12},end:{line:56,column:13}},loc:{start:{line:56,column:23},end:{line:58,column:1}},line:56},"2":{name:"(anonymous_2)",decl:{start:{line:91,column:40},end:{line:91,column:41}},loc:{start:{line:91,column:51},end:{line:99,column:1}},line:91},"3":{name:"(anonymous_3)",decl:{start:{line:92,column:94},end:{line:92,column:95}},loc:{start:{line:92,column:106},end:{line:94,column:3}},line:92},"4":{name:"(anonymous_4)",decl:{start:{line:94,column:11},end:{line:94,column:12}},loc:{start:{line:94,column:18},end:{line:98,column:3}},line:94},"5":{name:"(anonymous_5)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:35},end:{line:131,column:1}},line:123},"6":{name:"(anonymous_6)",decl:{start:{line:124,column:70},end:{line:124,column:71}},loc:{start:{line:124,column:82},end:{line:126,column:3}},line:124},"7":{name:"(anonymous_7)",decl:{start:{line:126,column:11},end:{line:126,column:12}},loc:{start:{line:126,column:18},end:{line:130,column:3}},line:126},"8":{name:"(anonymous_8)",decl:{start:{line:135,column:36},end:{line:135,column:37}},loc:{start:{line:135,column:47},end:{line:191,column:1}},line:135},"9":{name:"(anonymous_9)",decl:{start:{line:153,column:59},end:{line:153,column:60}},loc:{start:{line:153,column:71},end:{line:189,column:4}},line:153},"10":{name:"(anonymous_10)",decl:{start:{line:179,column:27},end:{line:179,column:28}},loc:{start:{line:179,column:31},end:{line:182,column:8}},line:179},"11":{name:"(anonymous_11)",decl:{start:{line:182,column:16},end:{line:182,column:17}},loc:{start:{line:182,column:23},end:{line:186,column:8}},line:182},"12":{name:"(anonymous_12)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:31},end:{line:200,column:1}},line:196},"13":{name:"(anonymous_13)",decl:{start:{line:197,column:39},end:{line:197,column:40}},loc:{start:{line:197,column:50},end:{line:199,column:3}},line:197},"14":{name:"(anonymous_14)",decl:{start:{line:226,column:24},end:{line:226,column:25}},loc:{start:{line:226,column:35},end:{line:230,column:1}},line:226},"15":{name:"(anonymous_15)",decl:{start:{line:227,column:45},end:{line:227,column:46}},loc:{start:{line:227,column:56},end:{line:229,column:3}},line:227},"16":{name:"(anonymous_16)",decl:{start:{line:235,column:25},end:{line:235,column:26}},loc:{start:{line:235,column:36},end:{line:254,column:1}},line:235},"17":{name:"(anonymous_17)",decl:{start:{line:240,column:31},end:{line:240,column:32}},loc:{start:{line:240,column:43},end:{line:249,column:3}},line:240},"18":{name:"(anonymous_18)",decl:{start:{line:249,column:11},end:{line:249,column:12}},loc:{start:{line:249,column:18},end:{line:253,column:3}},line:249},"19":{name:"(anonymous_19)",decl:{start:{line:270,column:20},end:{line:270,column:21}},loc:{start:{line:270,column:31},end:{line:278,column:1}},line:270},"20":{name:"(anonymous_20)",decl:{start:{line:271,column:22},end:{line:271,column:23}},loc:{start:{line:271,column:34},end:{line:273,column:3}},line:271},"21":{name:"(anonymous_21)",decl:{start:{line:273,column:11},end:{line:273,column:12}},loc:{start:{line:273,column:18},end:{line:277,column:3}},line:273},"22":{name:"(anonymous_22)",decl:{start:{line:302,column:30},end:{line:302,column:31}},loc:{start:{line:302,column:41},end:{line:306,column:1}},line:302},"23":{name:"(anonymous_23)",decl:{start:{line:303,column:47},end:{line:303,column:48}},loc:{start:{line:303,column:59},end:{line:305,column:3}},line:303},"24":{name:"(anonymous_24)",decl:{start:{line:310,column:16},end:{line:310,column:17}},loc:{start:{line:310,column:20},end:{line:312,column:1}},line:310}},branchMap:{"0":{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:95,column:4},end:{line:97,column:5}}],line:95},"1":{loc:{start:{line:127,column:4},end:{line:129,column:5}},type:"if",locations:[{start:{line:127,column:4},end:{line:129,column:5}},{start:{line:127,column:4},end:{line:129,column:5}}],line:127},"2":{loc:{start:{line:183,column:9},end:{line:185,column:10}},type:"if",locations:[{start:{line:183,column:9},end:{line:185,column:10}},{start:{line:183,column:9},end:{line:185,column:10}}],line:183},"3":{loc:{start:{line:250,column:4},end:{line:252,column:5}},type:"if",locations:[{start:{line:250,column:4},end:{line:252,column:5}},{start:{line:250,column:4},end:{line:252,column:5}}],line:250},"4":{loc:{start:{line:274,column:4},end:{line:276,column:5}},type:"if",locations:[{start:{line:274,column:4},end:{line:276,column:5}},{start:{line:274,column:4},end:{line:276,column:5}}],line:274}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dcb4382dec84a325de52ddb59702d58978fe9748"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2inguvl7ui=function(){return actualCoverage;};}return actualCoverage;}cov_2inguvl7ui();//load express
const express=(cov_2inguvl7ui().s[0]++,require('express'));const app=(cov_2inguvl7ui().s[1]++,express());//mailOptions
const mail=(cov_2inguvl7ui().s[2]++,require('./mail'));//communication with other services
const axios=(cov_2inguvl7ui().s[3]++,require('axios'));//middleware
const bodyParser=(cov_2inguvl7ui().s[4]++,require('body-parser'));cov_2inguvl7ui().s[5]++;app.use(bodyParser.json());//load mongoose
const mongoose=(cov_2inguvl7ui().s[6]++,require('mongoose'));//connect
cov_2inguvl7ui().s[7]++;mongoose.connect("mongodb+srv://yash123:yash123@cluster0.an7nj.mongodb.net/servicebooking",()=>{cov_2inguvl7ui().f[0]++;cov_2inguvl7ui().s[8]++;console.log("Booking Database Connected Successfully!");});//cors
const cors=(cov_2inguvl7ui().s[9]++,require('cors'));cov_2inguvl7ui().s[10]++;app.use(cors());//swagger
const swaggerJSDoc=(cov_2inguvl7ui().s[11]++,require('swagger-jsdoc'));const swaggerUI=(cov_2inguvl7ui().s[12]++,require('swagger-ui-express'));const swaggerOptions=(cov_2inguvl7ui().s[13]++,{definition:{openapi:'3.0.0',info:{title:'Booking Management API',version:'1.0.0',description:'Booking Api for Railway reservation management',contact:{name:'Yash Patil',url:'http://jakeperalta.com',email:'jakeperalta@gmail.com'},servers:["http://localhost:2222"]}},apis:["bookings.js"]});const swaggerDocs=(cov_2inguvl7ui().s[14]++,swaggerJSDoc(swaggerOptions));cov_2inguvl7ui().s[15]++;app.use('/api-docs',swaggerUI.serve,swaggerUI.setup(swaggerDocs));cov_2inguvl7ui().s[16]++;require("./Booking");const Booking=(cov_2inguvl7ui().s[17]++,mongoose.model("Booking"));cov_2inguvl7ui().s[18]++;app.get('/',(req,res)=>{cov_2inguvl7ui().f[1]++;cov_2inguvl7ui().s[19]++;res.send("This is our booking service");});//starts from asks for soure and destination and returns that particular train
//book train by entering source and destination (using train microservice here)
/**
 * @swagger
 * /booking/{source}/{destination}:
 *  get:
 *   summary: get train by train name
 *   description: get  train by train name
 *   parameters:
 *    - in: path
 *      name: source
 *      schema:
 *       type: string
 *       required: true
 *       description: source of train
 *       example: 'Mumbai'
 *    - in: path
 *      name: destination
 *      schema:
 *       type: string
 *       required: true
 *       description: destination of train
 *       example: 'Pune'
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */cov_2inguvl7ui().s[20]++;app.get('/booking/:source/:destination',(req,res)=>{cov_2inguvl7ui().f[2]++;cov_2inguvl7ui().s[21]++;axios.get("http://localhost:4545/train/"+req.params.source+"/"+req.params.destination).then(response=>{cov_2inguvl7ui().f[3]++;cov_2inguvl7ui().s[22]++;res.json(response.data);}).catch(err=>{cov_2inguvl7ui().f[4]++;cov_2inguvl7ui().s[23]++;if(err){cov_2inguvl7ui().b[0][0]++;cov_2inguvl7ui().s[24]++;throw err;}else{cov_2inguvl7ui().b[0][1]++;}});});/**
 * @swagger
 * /b/{trainname}:
 *  get:
 *   summary: get train by train name
 *   description: get  train by train name
 *   parameters:
 *    - in: path
 *      name: trainname
 *      schema:
 *       type: string
 *       required: true
 *       description: name of train
 *       example: 'Mumbai Express'
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //get train by trainName
cov_2inguvl7ui().s[25]++;app.get('/b/:trainname',(req,res)=>{cov_2inguvl7ui().f[5]++;cov_2inguvl7ui().s[26]++;axios.get("http://localhost:4545/train/"+req.params.trainname).then(response=>{cov_2inguvl7ui().f[6]++;cov_2inguvl7ui().s[27]++;res.json(response.data);}).catch(err=>{cov_2inguvl7ui().f[7]++;cov_2inguvl7ui().s[28]++;if(err){cov_2inguvl7ui().b[1][0]++;cov_2inguvl7ui().s[29]++;throw err;}else{cov_2inguvl7ui().b[1][1]++;}});});//booking done from here--stored in bookings database
var pnr=(cov_2inguvl7ui().s[30]++,900);cov_2inguvl7ui().s[31]++;app.post('/booking/:uid/:trainname',(req,res)=>{cov_2inguvl7ui().f[8]++;let trainname=(cov_2inguvl7ui().s[32]++,req.params.trainname);var newBooking=(cov_2inguvl7ui().s[33]++,{pnr:pnr,uid:mongoose.Types.ObjectId(req.params.uid),train:{trainNo:'',trainName:trainname,Source:'',Destination:'',deptTime:'',arriveTime:'',Fare:''}});cov_2inguvl7ui().s[34]++;axios.get("http://localhost:4545/train/"+trainname).then(response=>{cov_2inguvl7ui().f[9]++;const tr=(cov_2inguvl7ui().s[35]++,response.data[0]);cov_2inguvl7ui().s[36]++;console.log(tr);cov_2inguvl7ui().s[37]++;newBooking={pnr:pnr,uid:req.params.uid,train:{trainNo:tr.trainno,trainName:tr.trainname,Source:tr.source,Destination:tr.destination,deptTime:tr.depttime,arriveTime:tr.arrivename,Fare:tr.fare}};cov_2inguvl7ui().s[38]++;console.log(newBooking);//new booking
var booking=(cov_2inguvl7ui().s[39]++,new Booking(newBooking));cov_2inguvl7ui().s[40]++;booking.save().then(()=>{cov_2inguvl7ui().f[10]++;let emailMsg=(cov_2inguvl7ui().s[41]++,mail.sendMail());cov_2inguvl7ui().s[42]++;console.log("New Booking Done");}).catch(err=>{cov_2inguvl7ui().f[11]++;cov_2inguvl7ui().s[43]++;if(err){cov_2inguvl7ui().b[2][0]++;cov_2inguvl7ui().s[44]++;throw err;}else{cov_2inguvl7ui().b[2][1]++;}});cov_2inguvl7ui().s[45]++;res.json("A new booking done with success!");cov_2inguvl7ui().s[46]++;pnr++;});});//get booking by objectid
//for ticket summary
cov_2inguvl7ui().s[47]++;app.get('/book/:id',(req,res)=>{cov_2inguvl7ui().f[12]++;cov_2inguvl7ui().s[48]++;Booking.findById(req.params.id).then(booking=>{cov_2inguvl7ui().f[13]++;cov_2inguvl7ui().s[49]++;res.json(booking);});});/**
 * @swagger
 * /booking/{pnr}:
 *  get:
 *   summary: get booking by pnr
 *   description: get booking by pnr
 *   parameters:
 *    - in: path
 *      name: pnr
 *      schema:
 *       type: number
 *       required: true
 *       description: pnr of train
 *       example: 900
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //get booking by pnr
//check pnr status
cov_2inguvl7ui().s[50]++;app.get('/booking/:pnr',(req,res)=>{cov_2inguvl7ui().f[14]++;cov_2inguvl7ui().s[51]++;Booking.findOne({pnr:req.params.pnr}).then(booking=>{cov_2inguvl7ui().f[15]++;cov_2inguvl7ui().s[52]++;res.json(booking);});});//get all bookings done by same user
//multiple bookings
cov_2inguvl7ui().s[53]++;app.get('/bookings/:uid',(req,res)=>{cov_2inguvl7ui().f[16]++;var obj=(cov_2inguvl7ui().s[54]++,mongoose.Types.ObjectId(req.params.uid));var arr=(cov_2inguvl7ui().s[55]++,[]);cov_2inguvl7ui().s[56]++;Booking.find({uid:obj}).then(response=>{cov_2inguvl7ui().f[17]++;cov_2inguvl7ui().s[57]++;for(let i of response){let bookObj=(cov_2inguvl7ui().s[58]++,{pnr:i.pnr,train:i.train});cov_2inguvl7ui().s[59]++;arr.push(bookObj);}cov_2inguvl7ui().s[60]++;res.send(arr);}).catch(err=>{cov_2inguvl7ui().f[18]++;cov_2inguvl7ui().s[61]++;if(err){cov_2inguvl7ui().b[3][0]++;cov_2inguvl7ui().s[62]++;throw err;}else{cov_2inguvl7ui().b[3][1]++;}});});/**
 * @swagger
 * /bookings:
 *  get:
 *   summary: get all bookings
 *   description: get all bookings
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //get all bookings --useful in admins// app.get('/bookings',(req,res)=>{
cov_2inguvl7ui().s[63]++;app.get('/bookings',(req,res)=>{cov_2inguvl7ui().f[19]++;cov_2inguvl7ui().s[64]++;Booking.find().then(bookings=>{cov_2inguvl7ui().f[20]++;cov_2inguvl7ui().s[65]++;res.json(bookings);}).catch(err=>{cov_2inguvl7ui().f[21]++;cov_2inguvl7ui().s[66]++;if(err){cov_2inguvl7ui().b[4][0]++;cov_2inguvl7ui().s[67]++;throw err;}else{cov_2inguvl7ui().b[4][1]++;}});});/**
 * @swagger
 * /cancelling/{pnr}:
 *  delete:
 *   summary: delete booking
 *   description: delete booking
 *   parameters:
 *    - in: path
 *      name: pnr
 *      schema:
 *       type: number
 *       required: true
 *       description: pnr of booking
 *       example: 901
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //cancelling ticket
cov_2inguvl7ui().s[68]++;app.delete('/cancelling/:pnr',(req,res)=>{cov_2inguvl7ui().f[22]++;cov_2inguvl7ui().s[69]++;Booking.deleteOne({pnr:req.params.pnr}).then(response=>{cov_2inguvl7ui().f[23]++;cov_2inguvl7ui().s[70]++;res.json("Booking cancelled successfully!");});});cov_2inguvl7ui().s[71]++;app.listen(2222,()=>{cov_2inguvl7ui().f[24]++;cov_2inguvl7ui().s[72]++;console.log("Up and running! -- This is our Bookings Service");});cov_2inguvl7ui().s[73]++;module.exports=app;// //using axios
//
// //booking
// let id=900;
// app.post('/booking/:uname/:tname',(req,res)=>{
//   var newBooking={
//     pnr:id,
//     tname:mongoose.Types.ObjectId(req.body.tname),
//     uname:mongoose.Types.ObjectId(req.body.uname)
//   }
//   //new booking
//   var booking=new Booking(newBooking)
//
//   booking.save().then(()=>{
//     console.log("New Booking Done")
//   }).catch((err)=>{
//     if (err){
//       throw err;
//     }
//   })
//   res.send("A new booking done with success!");
//   console.log(req.body);
//   id++;
// });
// //booking done till now
//
//
// //get all bookings done till now but in form of objectid --workingg
// app.get('/bookings',(req,res)=>{
//   Booking.find().then((bookings)=>{
//     res.json(bookings);
//   }).catch((err)=>{
//     if(err){
//       throw err;
//     }
//   })
// });
//
// //check pnr status but output in form of objectid --workingg
// app.get('/bookings/:pnr',(req,res)=>{
//   Booking.find({pnr:req.params.pnr}).then((booking)=>{
//       res.json(booking);
//   }).catch((err)=>{
//     if(err){
//       throw err;
//     }
//   })
// });
//
// //get booking based on who booked the ticket and which train has been booked using object id       --workinggggggg
// app.get('/booking/:id',(req,res)=>{
//   Booking.findById(req.params.id).then((booking)=>{
//     if(booking){
//       axios.get("http://localhost:5555/user/"+booking.uname).then((response)=>{
//         var bookingObject={userName:response.data.username,trainName:'',trainno:'',source:'',destination:'',depttime:'',arrivetime:'',fare:''}
//
//         axios.get("http://localhost:4545/trains/"+booking.tname).then((response)=>{
//           bookingObject.trainName=response.data.trainname,
//           bookingObject.trainno=response.data.trainno,
//           bookingObject.source=response.data.source,
//           bookingObject.destination=response.data.destination,
//           bookingObject.depttime=response.data.depttime,
//           bookingObject.arrivetime=response.data.arrivename,
//           bookingObject.fare=response.data.fare
//
//           res.json(bookingObject)
//         })
//       })
//     }else{
//       res.send("Invalid Booking")
//     }
//   })
// });
//
// //check pnr status
// app.get('/book/:pnr',(req,res)=>{
//   Booking.findOne({pnr:req.params.pnr}).then((booking)=>{
//     // res.json(booking);
//     axios.get("http://localhost:5555/user/"+booking.uname).then((response)=>{
//       var bookingObject={userName:response.data.username,trainName:'',trainno:'',source:'',destination:'',depttime:'',arrivetime:'',fare:''}
//
//       axios.get("http://localhost:4545/trains/"+booking.tname).then((response)=>{
//         bookingObject.trainName=response.data.trainname,
//         bookingObject.trainno=response.data.trainno,
//         bookingObject.source=response.data.source,
//         bookingObject.destination=response.data.destination,
//         bookingObject.depttime=response.data.depttime,
//         bookingObject.arrivetime=response.data.arrivename,
//         bookingObject.fare=response.data.fare
//         console.log(bookingObject);
//         res.json(bookingObject)
//       })
//     })
//   })
// });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2tpbmdzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYXBwIiwibWFpbCIsImF4aW9zIiwiYm9keVBhcnNlciIsInVzZSIsImpzb24iLCJtb25nb29zZSIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiY29ycyIsInN3YWdnZXJKU0RvYyIsInN3YWdnZXJVSSIsInN3YWdnZXJPcHRpb25zIiwiZGVmaW5pdGlvbiIsIm9wZW5hcGkiLCJpbmZvIiwidGl0bGUiLCJ2ZXJzaW9uIiwiZGVzY3JpcHRpb24iLCJjb250YWN0IiwibmFtZSIsInVybCIsImVtYWlsIiwic2VydmVycyIsImFwaXMiLCJzd2FnZ2VyRG9jcyIsInNlcnZlIiwic2V0dXAiLCJCb29raW5nIiwibW9kZWwiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwicGFyYW1zIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJ0cmFpbm5hbWUiLCJwbnIiLCJwb3N0IiwibmV3Qm9va2luZyIsInVpZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJ0cmFpbiIsInRyYWluTm8iLCJ0cmFpbk5hbWUiLCJTb3VyY2UiLCJEZXN0aW5hdGlvbiIsImRlcHRUaW1lIiwiYXJyaXZlVGltZSIsIkZhcmUiLCJ0ciIsInRyYWlubm8iLCJkZXB0dGltZSIsImFycml2ZW5hbWUiLCJmYXJlIiwiYm9va2luZyIsInNhdmUiLCJlbWFpbE1zZyIsInNlbmRNYWlsIiwiZmluZEJ5SWQiLCJpZCIsImZpbmRPbmUiLCJvYmoiLCJhcnIiLCJmaW5kIiwiaSIsImJvb2tPYmoiLCJwdXNoIiwiYm9va2luZ3MiLCJkZWxldGUiLCJkZWxldGVPbmUiLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiZ29VQWVZOzJGQWZaO0FBQ0EsS0FBTUEsQ0FBQUEsT0FBTywwQkFBQ0MsT0FBTyxDQUFDLFNBQUQsQ0FBUixDQUFiLENBQ0Es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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLy9sb2FkIGV4cHJlc3NcclxuY29uc3QgZXhwcmVzcz1yZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IGFwcD1leHByZXNzKCk7XHJcblxyXG4vL21haWxPcHRpb25zXHJcbmNvbnN0IG1haWw9cmVxdWlyZSgnLi9tYWlsJyk7XHJcblxyXG4vL2NvbW11bmljYXRpb24gd2l0aCBvdGhlciBzZXJ2aWNlc1xyXG5jb25zdCBheGlvcz1yZXF1aXJlKCdheGlvcycpO1xyXG5cclxuLy9taWRkbGV3YXJlXHJcbmNvbnN0IGJvZHlQYXJzZXI9cmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcblxyXG4vL2xvYWQgbW9uZ29vc2VcclxuY29uc3QgbW9uZ29vc2U9cmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbi8vY29ubmVjdFxyXG5tb25nb29zZS5jb25uZWN0KFwibW9uZ29kYitzcnY6Ly95YXNoMTIzOnlhc2gxMjNAY2x1c3RlcjAuYW43bmoubW9uZ29kYi5uZXQvc2VydmljZWJvb2tpbmdcIiwoKT0+e1xyXG4gIGNvbnNvbGUubG9nKFwiQm9va2luZyBEYXRhYmFzZSBDb25uZWN0ZWQgU3VjY2Vzc2Z1bGx5IVwiKTtcclxufSk7XHJcblxyXG4vL2NvcnNcclxuY29uc3QgY29ycz1yZXF1aXJlKCdjb3JzJyk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbi8vc3dhZ2dlclxyXG5jb25zdCBzd2FnZ2VySlNEb2M9cmVxdWlyZSgnc3dhZ2dlci1qc2RvYycpO1xyXG5jb25zdCBzd2FnZ2VyVUk9cmVxdWlyZSgnc3dhZ2dlci11aS1leHByZXNzJyk7XHJcblxyXG5jb25zdCBzd2FnZ2VyT3B0aW9ucz17XHJcbiAgZGVmaW5pdGlvbjp7XHJcbiAgICBvcGVuYXBpOiczLjAuMCcsXHJcbiAgICBpbmZvOntcclxuICAgICAgdGl0bGU6J0Jvb2tpbmcgTWFuYWdlbWVudCBBUEknLFxyXG4gICAgICB2ZXJzaW9uOicxLjAuMCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOidCb29raW5nIEFwaSBmb3IgUmFpbHdheSByZXNlcnZhdGlvbiBtYW5hZ2VtZW50JyxcclxuICAgICAgY29udGFjdDp7XHJcbiAgICAgICAgbmFtZTonWWFzaCBQYXRpbCcsXHJcbiAgICAgICAgdXJsOidodHRwOi8vamFrZXBlcmFsdGEuY29tJyxcclxuICAgICAgICBlbWFpbDonamFrZXBlcmFsdGFAZ21haWwuY29tJ1xyXG4gICAgICB9LFxyXG4gICAgICBzZXJ2ZXJzOltcImh0dHA6Ly9sb2NhbGhvc3Q6MjIyMlwiXVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXBpczpbXCJib29raW5ncy5qc1wiXVxyXG59XHJcbmNvbnN0IHN3YWdnZXJEb2NzPXN3YWdnZXJKU0RvYyhzd2FnZ2VyT3B0aW9ucyk7XHJcbmFwcC51c2UoJy9hcGktZG9jcycsc3dhZ2dlclVJLnNlcnZlLHN3YWdnZXJVSS5zZXR1cChzd2FnZ2VyRG9jcykpO1xyXG5cclxucmVxdWlyZShcIi4vQm9va2luZ1wiKTtcclxuY29uc3QgQm9va2luZz1tb25nb29zZS5tb2RlbChcIkJvb2tpbmdcIik7XHJcblxyXG5cclxuXHJcbmFwcC5nZXQoJy8nLChyZXEscmVzKT0+e1xyXG4gIHJlcy5zZW5kKFwiVGhpcyBpcyBvdXIgYm9va2luZyBzZXJ2aWNlXCIpO1xyXG59KTtcclxuXHJcbi8vc3RhcnRzIGZyb20gYXNrcyBmb3Igc291cmUgYW5kIGRlc3RpbmF0aW9uIGFuZCByZXR1cm5zIHRoYXQgcGFydGljdWxhciB0cmFpblxyXG4vL2Jvb2sgdHJhaW4gYnkgZW50ZXJpbmcgc291cmNlIGFuZCBkZXN0aW5hdGlvbiAodXNpbmcgdHJhaW4gbWljcm9zZXJ2aWNlIGhlcmUpXHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2Jvb2tpbmcve3NvdXJjZX0ve2Rlc3RpbmF0aW9ufTpcclxuICogIGdldDpcclxuICogICBzdW1tYXJ5OiBnZXQgdHJhaW4gYnkgdHJhaW4gbmFtZVxyXG4gKiAgIGRlc2NyaXB0aW9uOiBnZXQgIHRyYWluIGJ5IHRyYWluIG5hbWVcclxuICogICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgbmFtZTogc291cmNlXHJcbiAqICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgZGVzY3JpcHRpb246IHNvdXJjZSBvZiB0cmFpblxyXG4gKiAgICAgICBleGFtcGxlOiAnTXVtYmFpJ1xyXG4gKiAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgbmFtZTogZGVzdGluYXRpb25cclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICBkZXNjcmlwdGlvbjogZGVzdGluYXRpb24gb2YgdHJhaW5cclxuICogICAgICAgZXhhbXBsZTogJ1B1bmUnXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3VjY2Vzc1xyXG4gKiAgICA1MDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogZmFpbHVyZVxyXG4gKi9cclxuXHJcbmFwcC5nZXQoJy9ib29raW5nLzpzb3VyY2UvOmRlc3RpbmF0aW9uJywocmVxLHJlcyk9PntcclxuICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW4vXCIrcmVxLnBhcmFtcy5zb3VyY2UrXCIvXCIrcmVxLnBhcmFtcy5kZXN0aW5hdGlvbikudGhlbigocmVzcG9uc2UpPT57XHJcbiAgICByZXMuanNvbihyZXNwb25zZS5kYXRhKTtcclxuICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgaWYoZXJyKXtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9iL3t0cmFpbm5hbWV9OlxyXG4gKiAgZ2V0OlxyXG4gKiAgIHN1bW1hcnk6IGdldCB0cmFpbiBieSB0cmFpbiBuYW1lXHJcbiAqICAgZGVzY3JpcHRpb246IGdldCAgdHJhaW4gYnkgdHJhaW4gbmFtZVxyXG4gKiAgIHBhcmFtZXRlcnM6XHJcbiAqICAgIC0gaW46IHBhdGhcclxuICogICAgICBuYW1lOiB0cmFpbm5hbWVcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICBkZXNjcmlwdGlvbjogbmFtZSBvZiB0cmFpblxyXG4gKiAgICAgICBleGFtcGxlOiAnTXVtYmFpIEV4cHJlc3MnXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3VjY2Vzc1xyXG4gKiAgICA1MDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogZmFpbHVyZVxyXG4gKi9cclxuXHJcbi8vZ2V0IHRyYWluIGJ5IHRyYWluTmFtZVxyXG5hcHAuZ2V0KCcvYi86dHJhaW5uYW1lJywocmVxLHJlcyk9PntcclxuICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW4vXCIrcmVxLnBhcmFtcy50cmFpbm5hbWUpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgIGlmKGVycil7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbi8vYm9va2luZyBkb25lIGZyb20gaGVyZS0tc3RvcmVkIGluIGJvb2tpbmdzIGRhdGFiYXNlXHJcbnZhciBwbnI9OTAwO1xyXG5hcHAucG9zdCgnL2Jvb2tpbmcvOnVpZC86dHJhaW5uYW1lJywocmVxLHJlcyk9PntcclxuICBsZXQgdHJhaW5uYW1lPXJlcS5wYXJhbXMudHJhaW5uYW1lO1xyXG5cclxuICB2YXIgbmV3Qm9va2luZz17XHJcbiAgICBwbnI6cG5yLFxyXG4gICAgdWlkOm1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHJlcS5wYXJhbXMudWlkKSxcclxuXHJcbiAgICB0cmFpbjp7XHJcbiAgICAgIHRyYWluTm86JycsXHJcbiAgICAgIHRyYWluTmFtZTp0cmFpbm5hbWUsXHJcbiAgICAgIFNvdXJjZTonJyxcclxuICAgICAgRGVzdGluYXRpb246JycsXHJcbiAgICAgIGRlcHRUaW1lOicnLFxyXG4gICAgICBhcnJpdmVUaW1lOicnLFxyXG4gICAgICBGYXJlOicnLFxyXG5cclxuICB9XHJcbn1cclxuICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW4vXCIrdHJhaW5uYW1lKS50aGVuKChyZXNwb25zZSk9PntcclxuICAgIGNvbnN0IHRyPXJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICBjb25zb2xlLmxvZyh0cik7XHJcbiAgICBuZXdCb29raW5nPXtcclxuICAgICAgcG5yOnBucixcclxuICAgICAgdWlkOnJlcS5wYXJhbXMudWlkLFxyXG5cclxuICAgICAgdHJhaW46e1xyXG5cclxuICAgICAgICB0cmFpbk5vOnRyLnRyYWlubm8sXHJcbiAgICAgICAgdHJhaW5OYW1lOnRyLnRyYWlubmFtZSxcclxuICAgICAgICBTb3VyY2U6dHIuc291cmNlLFxyXG4gICAgICAgIERlc3RpbmF0aW9uOnRyLmRlc3RpbmF0aW9uLFxyXG4gICAgICAgIGRlcHRUaW1lOnRyLmRlcHR0aW1lLFxyXG4gICAgICAgIGFycml2ZVRpbWU6dHIuYXJyaXZlbmFtZSxcclxuICAgICAgICBGYXJlOnRyLmZhcmVcclxuXHJcblxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICB9XHJcbmNvbnNvbGUubG9nKG5ld0Jvb2tpbmcpO1xyXG4gICAgLy9uZXcgYm9va2luZ1xyXG4gICAgICAgdmFyIGJvb2tpbmc9bmV3IEJvb2tpbmcobmV3Qm9va2luZylcclxuXHJcbiAgICAgICBib29raW5nLnNhdmUoKS50aGVuKCgpPT57XHJcbiAgICAgICAgIGxldCBlbWFpbE1zZz1tYWlsLnNlbmRNYWlsKCk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IEJvb2tpbmcgRG9uZVwiKVxyXG4gICAgICAgfSkuY2F0Y2goKGVycik9PntcclxuICAgICAgICAgaWYgKGVycil7XHJcbiAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICB9XHJcbiAgICAgICB9KVxyXG4gICAgICAgcmVzLmpzb24oXCJBIG5ldyBib29raW5nIGRvbmUgd2l0aCBzdWNjZXNzIVwiKTtcclxuICAgICAgIHBucisrO1xyXG4gICB9KTtcclxuXHJcbn0pO1xyXG5cclxuXHJcbi8vZ2V0IGJvb2tpbmcgYnkgb2JqZWN0aWRcclxuLy9mb3IgdGlja2V0IHN1bW1hcnlcclxuYXBwLmdldCgnL2Jvb2svOmlkJywocmVxLHJlcyk9PntcclxuICBCb29raW5nLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnRoZW4oKGJvb2tpbmcpPT57XHJcbiAgICByZXMuanNvbihib29raW5nKTtcclxuICB9KVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2Jvb2tpbmcve3Bucn06XHJcbiAqICBnZXQ6XHJcbiAqICAgc3VtbWFyeTogZ2V0IGJvb2tpbmcgYnkgcG5yXHJcbiAqICAgZGVzY3JpcHRpb246IGdldCBib29raW5nIGJ5IHBuclxyXG4gKiAgIHBhcmFtZXRlcnM6XHJcbiAqICAgIC0gaW46IHBhdGhcclxuICogICAgICBuYW1lOiBwbnJcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IG51bWJlclxyXG4gKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICBkZXNjcmlwdGlvbjogcG5yIG9mIHRyYWluXHJcbiAqICAgICAgIGV4YW1wbGU6IDkwMFxyXG4gKiAgIHJlc3BvbnNlczpcclxuICogICAgMjAwOlxyXG4gKiAgICAgZGVzY3JpcHRpb246IHN1Y2Nlc3NcclxuICogICAgNTAwOlxyXG4gKiAgICAgZGVzY3JpcHRpb246IGZhaWx1cmVcclxuICovXHJcblxyXG4vL2dldCBib29raW5nIGJ5IHBuclxyXG4vL2NoZWNrIHBuciBzdGF0dXNcclxuYXBwLmdldCgnL2Jvb2tpbmcvOnBucicsKHJlcSxyZXMpPT57XHJcbiAgQm9va2luZy5maW5kT25lKHtwbnI6cmVxLnBhcmFtcy5wbnJ9KS50aGVuKChib29raW5nKT0+e1xyXG4gICAgcmVzLmpzb24oYm9va2luZyk7XHJcbiAgfSlcclxufSk7XHJcblxyXG5cclxuLy9nZXQgYWxsIGJvb2tpbmdzIGRvbmUgYnkgc2FtZSB1c2VyXHJcbi8vbXVsdGlwbGUgYm9va2luZ3NcclxuYXBwLmdldCgnL2Jvb2tpbmdzLzp1aWQnLChyZXEscmVzKT0+e1xyXG4gIHZhciBvYmo9bW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQocmVxLnBhcmFtcy51aWQpO1xyXG5cclxuICB2YXIgYXJyPVtdO1xyXG5cclxuICBCb29raW5nLmZpbmQoe3VpZDpvYmp9KS50aGVuKChyZXNwb25zZSk9PntcclxuICAgIGZvcihsZXQgaSBvZiByZXNwb25zZSl7XHJcbiAgICAgIGxldCBib29rT2JqPXtcclxuICAgICAgICBwbnI6aS5wbnIsXHJcbiAgICAgICAgdHJhaW46aS50cmFpblxyXG4gICAgICB9XHJcbiAgICAgIGFyci5wdXNoKGJvb2tPYmopO1xyXG4gICAgfVxyXG4gICAgcmVzLnNlbmQoYXJyKTtcclxuICB9KS5jYXRjaCgoZXJyKT0+e1xyXG4gICAgaWYoZXJyKXtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9ib29raW5nczpcclxuICogIGdldDpcclxuICogICBzdW1tYXJ5OiBnZXQgYWxsIGJvb2tpbmdzXHJcbiAqICAgZGVzY3JpcHRpb246IGdldCBhbGwgYm9va2luZ3NcclxuICogICByZXNwb25zZXM6XHJcbiAqICAgIDIwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBzdWNjZXNzXHJcbiAqICAgIDUwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBmYWlsdXJlXHJcbiAqL1xyXG5cclxuLy9nZXQgYWxsIGJvb2tpbmdzIC0tdXNlZnVsIGluIGFkbWlucy8vIGFwcC5nZXQoJy9ib29raW5ncycsKHJlcSxyZXMpPT57XHJcbmFwcC5nZXQoJy9ib29raW5ncycsKHJlcSxyZXMpPT57XHJcbiAgQm9va2luZy5maW5kKCkudGhlbigoYm9va2luZ3MpPT57XHJcbiAgICByZXMuanNvbihib29raW5ncyk7XHJcbiAgfSkuY2F0Y2goKGVycik9PntcclxuICAgIGlmKGVycil7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvY2FuY2VsbGluZy97cG5yfTpcclxuICogIGRlbGV0ZTpcclxuICogICBzdW1tYXJ5OiBkZWxldGUgYm9va2luZ1xyXG4gKiAgIGRlc2NyaXB0aW9uOiBkZWxldGUgYm9va2luZ1xyXG4gKiAgIHBhcmFtZXRlcnM6XHJcbiAqICAgIC0gaW46IHBhdGhcclxuICogICAgICBuYW1lOiBwbnJcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IG51bWJlclxyXG4gKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICBkZXNjcmlwdGlvbjogcG5yIG9mIGJvb2tpbmdcclxuICogICAgICAgZXhhbXBsZTogOTAxXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3VjY2Vzc1xyXG4gKiAgICA1MDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogZmFpbHVyZVxyXG4gKi9cclxuXHJcbi8vY2FuY2VsbGluZyB0aWNrZXRcclxuYXBwLmRlbGV0ZSgnL2NhbmNlbGxpbmcvOnBucicsKHJlcSxyZXMpPT57XHJcbiAgQm9va2luZy5kZWxldGVPbmUoe3BucjpyZXEucGFyYW1zLnBucn0pLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgcmVzLmpzb24oXCJCb29raW5nIGNhbmNlbGxlZCBzdWNjZXNzZnVsbHkhXCIpXHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxuYXBwLmxpc3RlbigyMjIyLCgpPT57XHJcbiAgY29uc29sZS5sb2coXCJVcCBhbmQgcnVubmluZyEgLS0gVGhpcyBpcyBvdXIgQm9va2luZ3MgU2VydmljZVwiKTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcclxuXHJcbi8vIC8vdXNpbmcgYXhpb3NcclxuLy9cclxuLy8gLy9ib29raW5nXHJcbi8vIGxldCBpZD05MDA7XHJcbi8vIGFwcC5wb3N0KCcvYm9va2luZy86dW5hbWUvOnRuYW1lJywocmVxLHJlcyk9PntcclxuLy8gICB2YXIgbmV3Qm9va2luZz17XHJcbi8vICAgICBwbnI6aWQsXHJcbi8vICAgICB0bmFtZTptb25nb29zZS5UeXBlcy5PYmplY3RJZChyZXEuYm9keS50bmFtZSksXHJcbi8vICAgICB1bmFtZTptb25nb29zZS5UeXBlcy5PYmplY3RJZChyZXEuYm9keS51bmFtZSlcclxuLy8gICB9XHJcbi8vICAgLy9uZXcgYm9va2luZ1xyXG4vLyAgIHZhciBib29raW5nPW5ldyBCb29raW5nKG5ld0Jvb2tpbmcpXHJcbi8vXHJcbi8vICAgYm9va2luZy5zYXZlKCkudGhlbigoKT0+e1xyXG4vLyAgICAgY29uc29sZS5sb2coXCJOZXcgQm9va2luZyBEb25lXCIpXHJcbi8vICAgfSkuY2F0Y2goKGVycik9PntcclxuLy8gICAgIGlmIChlcnIpe1xyXG4vLyAgICAgICB0aHJvdyBlcnI7XHJcbi8vICAgICB9XHJcbi8vICAgfSlcclxuLy8gICByZXMuc2VuZChcIkEgbmV3IGJvb2tpbmcgZG9uZSB3aXRoIHN1Y2Nlc3MhXCIpO1xyXG4vLyAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuLy8gICBpZCsrO1xyXG4vLyB9KTtcclxuLy8gLy9ib29raW5nIGRvbmUgdGlsbCBub3dcclxuLy9cclxuLy9cclxuLy8gLy9nZXQgYWxsIGJvb2tpbmdzIGRvbmUgdGlsbCBub3cgYnV0IGluIGZvcm0gb2Ygb2JqZWN0aWQgLS13b3JraW5nZ1xyXG4vLyBhcHAuZ2V0KCcvYm9va2luZ3MnLChyZXEscmVzKT0+e1xyXG4vLyAgIEJvb2tpbmcuZmluZCgpLnRoZW4oKGJvb2tpbmdzKT0+e1xyXG4vLyAgICAgcmVzLmpzb24oYm9va2luZ3MpO1xyXG4vLyAgIH0pLmNhdGNoKChlcnIpPT57XHJcbi8vICAgICBpZihlcnIpe1xyXG4vLyAgICAgICB0aHJvdyBlcnI7XHJcbi8vICAgICB9XHJcbi8vICAgfSlcclxuLy8gfSk7XHJcbi8vXHJcbi8vIC8vY2hlY2sgcG5yIHN0YXR1cyBidXQgb3V0cHV0IGluIGZvcm0gb2Ygb2JqZWN0aWQgLS13b3JraW5nZ1xyXG4vLyBhcHAuZ2V0KCcvYm9va2luZ3MvOnBucicsKHJlcSxyZXMpPT57XHJcbi8vICAgQm9va2luZy5maW5kKHtwbnI6cmVxLnBhcmFtcy5wbnJ9KS50aGVuKChib29raW5nKT0+e1xyXG4vLyAgICAgICByZXMuanNvbihib29raW5nKTtcclxuLy8gICB9KS5jYXRjaCgoZXJyKT0+e1xyXG4vLyAgICAgaWYoZXJyKXtcclxuLy8gICAgICAgdGhyb3cgZXJyO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pXHJcbi8vIH0pO1xyXG4vL1xyXG4vLyAvL2dldCBib29raW5nIGJhc2VkIG9uIHdobyBib29rZWQgdGhlIHRpY2tldCBhbmQgd2hpY2ggdHJhaW4gaGFzIGJlZW4gYm9va2VkIHVzaW5nIG9iamVjdCBpZCAgICAgICAtLXdvcmtpbmdnZ2dnZ2dcclxuLy8gYXBwLmdldCgnL2Jvb2tpbmcvOmlkJywocmVxLHJlcyk9PntcclxuLy8gICBCb29raW5nLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnRoZW4oKGJvb2tpbmcpPT57XHJcbi8vICAgICBpZihib29raW5nKXtcclxuLy8gICAgICAgYXhpb3MuZ2V0KFwiaHR0cDovL2xvY2FsaG9zdDo1NTU1L3VzZXIvXCIrYm9va2luZy51bmFtZSkudGhlbigocmVzcG9uc2UpPT57XHJcbi8vICAgICAgICAgdmFyIGJvb2tpbmdPYmplY3Q9e3VzZXJOYW1lOnJlc3BvbnNlLmRhdGEudXNlcm5hbWUsdHJhaW5OYW1lOicnLHRyYWlubm86Jycsc291cmNlOicnLGRlc3RpbmF0aW9uOicnLGRlcHR0aW1lOicnLGFycml2ZXRpbWU6JycsZmFyZTonJ31cclxuLy9cclxuLy8gICAgICAgICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW5zL1wiK2Jvb2tpbmcudG5hbWUpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4vLyAgICAgICAgICAgYm9va2luZ09iamVjdC50cmFpbk5hbWU9cmVzcG9uc2UuZGF0YS50cmFpbm5hbWUsXHJcbi8vICAgICAgICAgICBib29raW5nT2JqZWN0LnRyYWlubm89cmVzcG9uc2UuZGF0YS50cmFpbm5vLFxyXG4vLyAgICAgICAgICAgYm9va2luZ09iamVjdC5zb3VyY2U9cmVzcG9uc2UuZGF0YS5zb3VyY2UsXHJcbi8vICAgICAgICAgICBib29raW5nT2JqZWN0LmRlc3RpbmF0aW9uPXJlc3BvbnNlLmRhdGEuZGVzdGluYXRpb24sXHJcbi8vICAgICAgICAgICBib29raW5nT2JqZWN0LmRlcHR0aW1lPXJlc3BvbnNlLmRhdGEuZGVwdHRpbWUsXHJcbi8vICAgICAgICAgICBib29raW5nT2JqZWN0LmFycml2ZXRpbWU9cmVzcG9uc2UuZGF0YS5hcnJpdmVuYW1lLFxyXG4vLyAgICAgICAgICAgYm9va2luZ09iamVjdC5mYXJlPXJlc3BvbnNlLmRhdGEuZmFyZVxyXG4vL1xyXG4vLyAgICAgICAgICAgcmVzLmpzb24oYm9va2luZ09iamVjdClcclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgICB9KVxyXG4vLyAgICAgfWVsc2V7XHJcbi8vICAgICAgIHJlcy5zZW5kKFwiSW52YWxpZCBCb29raW5nXCIpXHJcbi8vICAgICB9XHJcbi8vICAgfSlcclxuLy8gfSk7XHJcbi8vXHJcbi8vIC8vY2hlY2sgcG5yIHN0YXR1c1xyXG4vLyBhcHAuZ2V0KCcvYm9vay86cG5yJywocmVxLHJlcyk9PntcclxuLy8gICBCb29raW5nLmZpbmRPbmUoe3BucjpyZXEucGFyYW1zLnBucn0pLnRoZW4oKGJvb2tpbmcpPT57XHJcbi8vICAgICAvLyByZXMuanNvbihib29raW5nKTtcclxuLy8gICAgIGF4aW9zLmdldChcImh0dHA6Ly9sb2NhbGhvc3Q6NTU1NS91c2VyL1wiK2Jvb2tpbmcudW5hbWUpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4vLyAgICAgICB2YXIgYm9va2luZ09iamVjdD17dXNlck5hbWU6cmVzcG9uc2UuZGF0YS51c2VybmFtZSx0cmFpbk5hbWU6JycsdHJhaW5ubzonJyxzb3VyY2U6JycsZGVzdGluYXRpb246JycsZGVwdHRpbWU6JycsYXJyaXZldGltZTonJyxmYXJlOicnfVxyXG4vL1xyXG4vLyAgICAgICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW5zL1wiK2Jvb2tpbmcudG5hbWUpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4vLyAgICAgICAgIGJvb2tpbmdPYmplY3QudHJhaW5OYW1lPXJlc3BvbnNlLmRhdGEudHJhaW5uYW1lLFxyXG4vLyAgICAgICAgIGJvb2tpbmdPYmplY3QudHJhaW5ubz1yZXNwb25zZS5kYXRhLnRyYWlubm8sXHJcbi8vICAgICAgICAgYm9va2luZ09iamVjdC5zb3VyY2U9cmVzcG9uc2UuZGF0YS5zb3VyY2UsXHJcbi8vICAgICAgICAgYm9va2luZ09iamVjdC5kZXN0aW5hdGlvbj1yZXNwb25zZS5kYXRhLmRlc3RpbmF0aW9uLFxyXG4vLyAgICAgICAgIGJvb2tpbmdPYmplY3QuZGVwdHRpbWU9cmVzcG9uc2UuZGF0YS5kZXB0dGltZSxcclxuLy8gICAgICAgICBib29raW5nT2JqZWN0LmFycml2ZXRpbWU9cmVzcG9uc2UuZGF0YS5hcnJpdmVuYW1lLFxyXG4vLyAgICAgICAgIGJvb2tpbmdPYmplY3QuZmFyZT1yZXNwb25zZS5kYXRhLmZhcmVcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyhib29raW5nT2JqZWN0KTtcclxuLy8gICAgICAgICByZXMuanNvbihib29raW5nT2JqZWN0KVxyXG4vLyAgICAgICB9KVxyXG4vLyAgICAgfSlcclxuLy8gICB9KVxyXG4vLyB9KTtcclxuIl19