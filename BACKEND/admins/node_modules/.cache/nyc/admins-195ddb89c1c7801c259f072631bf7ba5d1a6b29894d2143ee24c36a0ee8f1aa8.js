function cov_1pk59t92gc(){var path="D:\\CAPGEMINI\\MEANSTACK\\CASE STUDY\\RAILWAY\\BACKEND\\admins\\admins.js";var hash="55b7be08cd4c901b389543af3bf73feec7a8b2b8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\CAPGEMINI\\MEANSTACK\\CASE STUDY\\RAILWAY\\BACKEND\\admins\\admins.js",statementMap:{"0":{start:{line:2,column:14},end:{line:2,column:32}},"1":{start:{line:3,column:10},end:{line:3,column:19}},"2":{start:{line:6,column:12},end:{line:6,column:28}},"3":{start:{line:9,column:17},end:{line:9,column:39}},"4":{start:{line:10,column:0},end:{line:10,column:27}},"5":{start:{line:13,column:19},end:{line:13,column:43}},"6":{start:{line:16,column:10},end:{line:16,column:33}},"7":{start:{line:18,column:0},end:{line:18,column:24}},"8":{start:{line:21,column:11},end:{line:21,column:26}},"9":{start:{line:22,column:0},end:{line:22,column:16}},"10":{start:{line:25,column:15},end:{line:25,column:34}},"11":{start:{line:28,column:0},end:{line:30,column:3}},"12":{start:{line:29,column:2},end:{line:29,column:56}},"13":{start:{line:33,column:19},end:{line:33,column:43}},"14":{start:{line:34,column:16},end:{line:34,column:45}},"15":{start:{line:36,column:21},end:{line:52,column:1}},"16":{start:{line:53,column:18},end:{line:53,column:46}},"17":{start:{line:54,column:0},end:{line:54,column:66}},"18":{start:{line:56,column:0},end:{line:56,column:19}},"19":{start:{line:57,column:12},end:{line:57,column:35}},"20":{start:{line:59,column:0},end:{line:61,column:3}},"21":{start:{line:60,column:2},end:{line:60,column:41}},"22":{start:{line:64,column:19},end:{line:79,column:1}},"23":{start:{line:65,column:2},end:{line:65,column:36}},"24":{start:{line:66,column:13},end:{line:66,column:39}},"25":{start:{line:69,column:2},end:{line:71,column:3}},"26":{start:{line:70,column:4},end:{line:70,column:49}},"27":{start:{line:74,column:2},end:{line:76,column:3}},"28":{start:{line:75,column:4},end:{line:75,column:41}},"29":{start:{line:78,column:2},end:{line:78,column:16}},"30":{start:{line:82,column:13},end:{line:82,column:23}},"31":{start:{line:83,column:18},end:{line:87,column:1}},"32":{start:{line:84,column:2},end:{line:86,column:5}},"33":{start:{line:90,column:0},end:{line:106,column:3}},"34":{start:{line:91,column:29},end:{line:91,column:37}},"35":{start:{line:94,column:2},end:{line:105,column:3}},"36":{start:{line:95,column:16},end:{line:95,column:53}},"37":{start:{line:96,column:16},end:{line:96,column:38}},"38":{start:{line:97,column:4},end:{line:97,column:63}},"39":{start:{line:98,column:4},end:{line:98,column:34}},"40":{start:{line:99,column:4},end:{line:99,column:36}},"41":{start:{line:102,column:17},end:{line:102,column:34}},"42":{start:{line:103,column:4},end:{line:103,column:35}},"43":{start:{line:104,column:4},end:{line:104,column:38}},"44":{start:{line:109,column:0},end:{line:118,column:3}},"45":{start:{line:111,column:2},end:{line:117,column:4}},"46":{start:{line:112,column:4},end:{line:112,column:21}},"47":{start:{line:114,column:4},end:{line:116,column:5}},"48":{start:{line:115,column:6},end:{line:115,column:16}},"49":{start:{line:129,column:0},end:{line:135,column:3}},"50":{start:{line:130,column:2},end:{line:134,column:4}},"51":{start:{line:131,column:4},end:{line:133,column:6}},"52":{start:{line:132,column:6},end:{line:132,column:23}},"53":{start:{line:170,column:0},end:{line:179,column:3}},"54":{start:{line:171,column:4},end:{line:177,column:6}},"55":{start:{line:172,column:6},end:{line:172,column:30}},"56":{start:{line:174,column:6},end:{line:176,column:7}},"57":{start:{line:175,column:8},end:{line:175,column:18}},"58":{start:{line:199,column:0},end:{line:208,column:3}},"59":{start:{line:200,column:4},end:{line:206,column:6}},"60":{start:{line:201,column:6},end:{line:201,column:30}},"61":{start:{line:203,column:6},end:{line:205,column:7}},"62":{start:{line:204,column:8},end:{line:204,column:18}},"63":{start:{line:231,column:0},end:{line:240,column:3}},"64":{start:{line:232,column:4},end:{line:238,column:6}},"65":{start:{line:233,column:6},end:{line:233,column:30}},"66":{start:{line:235,column:6},end:{line:237,column:7}},"67":{start:{line:236,column:8},end:{line:236,column:18}},"68":{start:{line:301,column:0},end:{line:319,column:3}},"69":{start:{line:302,column:17},end:{line:311,column:5}},"70":{start:{line:312,column:4},end:{line:318,column:6}},"71":{start:{line:313,column:6},end:{line:313,column:30}},"72":{start:{line:315,column:6},end:{line:317,column:7}},"73":{start:{line:316,column:8},end:{line:316,column:18}},"74":{start:{line:360,column:0},end:{line:368,column:3}},"75":{start:{line:361,column:4},end:{line:367,column:6}},"76":{start:{line:362,column:6},end:{line:362,column:30}},"77":{start:{line:364,column:6},end:{line:366,column:7}},"78":{start:{line:365,column:8},end:{line:365,column:18}},"79":{start:{line:391,column:0},end:{line:399,column:3}},"80":{start:{line:392,column:4},end:{line:398,column:6}},"81":{start:{line:393,column:6},end:{line:393,column:39}},"82":{start:{line:395,column:6},end:{line:397,column:7}},"83":{start:{line:396,column:8},end:{line:396,column:18}},"84":{start:{line:402,column:0},end:{line:410,column:3}},"85":{start:{line:403,column:4},end:{line:409,column:6}},"86":{start:{line:404,column:6},end:{line:404,column:50}},"87":{start:{line:406,column:6},end:{line:408,column:7}},"88":{start:{line:407,column:8},end:{line:407,column:18}},"89":{start:{line:413,column:0},end:{line:415,column:3}},"90":{start:{line:414,column:2},end:{line:414,column:63}},"91":{start:{line:417,column:0},end:{line:417,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:28,column:89},end:{line:28,column:90}},loc:{start:{line:28,column:93},end:{line:30,column:1}},line:28},"1":{name:"(anonymous_1)",decl:{start:{line:59,column:12},end:{line:59,column:13}},loc:{start:{line:59,column:23},end:{line:61,column:1}},line:59},"2":{name:"(anonymous_2)",decl:{start:{line:64,column:19},end:{line:64,column:20}},loc:{start:{line:64,column:26},end:{line:79,column:1}},line:64},"3":{name:"(anonymous_3)",decl:{start:{line:83,column:18},end:{line:83,column:19}},loc:{start:{line:83,column:24},end:{line:87,column:1}},line:83},"4":{name:"(anonymous_4)",decl:{start:{line:90,column:24},end:{line:90,column:25}},loc:{start:{line:90,column:40},end:{line:106,column:1}},line:90},"5":{name:"(anonymous_5)",decl:{start:{line:109,column:18},end:{line:109,column:19}},loc:{start:{line:109,column:29},end:{line:118,column:1}},line:109},"6":{name:"(anonymous_6)",decl:{start:{line:111,column:20},end:{line:111,column:21}},loc:{start:{line:111,column:30},end:{line:113,column:3}},line:111},"7":{name:"(anonymous_7)",decl:{start:{line:113,column:11},end:{line:113,column:12}},loc:{start:{line:113,column:18},end:{line:117,column:3}},line:113},"8":{name:"(anonymous_8)",decl:{start:{line:129,column:20},end:{line:129,column:21}},loc:{start:{line:129,column:31},end:{line:135,column:1}},line:129},"9":{name:"(anonymous_9)",decl:{start:{line:130,column:28},end:{line:130,column:29}},loc:{start:{line:130,column:32},end:{line:134,column:3}},line:130},"10":{name:"(anonymous_10)",decl:{start:{line:131,column:22},end:{line:131,column:23}},loc:{start:{line:131,column:32},end:{line:133,column:5}},line:131},"11":{name:"(anonymous_11)",decl:{start:{line:170,column:24},end:{line:170,column:25}},loc:{start:{line:170,column:35},end:{line:179,column:1}},line:170},"12":{name:"(anonymous_12)",decl:{start:{line:171,column:51},end:{line:171,column:52}},loc:{start:{line:171,column:63},end:{line:173,column:5}},line:171},"13":{name:"(anonymous_13)",decl:{start:{line:173,column:13},end:{line:173,column:14}},loc:{start:{line:173,column:20},end:{line:177,column:5}},line:173},"14":{name:"(anonymous_14)",decl:{start:{line:199,column:26},end:{line:199,column:27}},loc:{start:{line:199,column:37},end:{line:208,column:1}},line:199},"15":{name:"(anonymous_15)",decl:{start:{line:200,column:53},end:{line:200,column:54}},loc:{start:{line:200,column:65},end:{line:202,column:5}},line:200},"16":{name:"(anonymous_16)",decl:{start:{line:202,column:13},end:{line:202,column:14}},loc:{start:{line:202,column:20},end:{line:206,column:5}},line:202},"17":{name:"(anonymous_17)",decl:{start:{line:231,column:24},end:{line:231,column:25}},loc:{start:{line:231,column:35},end:{line:240,column:1}},line:231},"18":{name:"(anonymous_18)",decl:{start:{line:232,column:68},end:{line:232,column:69}},loc:{start:{line:232,column:80},end:{line:234,column:5}},line:232},"19":{name:"(anonymous_19)",decl:{start:{line:234,column:13},end:{line:234,column:14}},loc:{start:{line:234,column:20},end:{line:238,column:5}},line:234},"20":{name:"(anonymous_20)",decl:{start:{line:301,column:25},end:{line:301,column:26}},loc:{start:{line:301,column:36},end:{line:319,column:1}},line:301},"21":{name:"(anonymous_21)",decl:{start:{line:312,column:60},end:{line:312,column:61}},loc:{start:{line:312,column:72},end:{line:314,column:5}},line:312},"22":{name:"(anonymous_22)",decl:{start:{line:314,column:13},end:{line:314,column:14}},loc:{start:{line:314,column:18},end:{line:318,column:5}},line:314},"23":{name:"(anonymous_23)",decl:{start:{line:360,column:24},end:{line:360,column:25}},loc:{start:{line:360,column:35},end:{line:368,column:1}},line:360},"24":{name:"(anonymous_24)",decl:{start:{line:361,column:77},end:{line:361,column:78}},loc:{start:{line:361,column:89},end:{line:363,column:5}},line:361},"25":{name:"(anonymous_25)",decl:{start:{line:363,column:13},end:{line:363,column:14}},loc:{start:{line:363,column:18},end:{line:367,column:5}},line:363},"26":{name:"(anonymous_26)",decl:{start:{line:391,column:27},end:{line:391,column:28}},loc:{start:{line:391,column:38},end:{line:399,column:1}},line:391},"27":{name:"(anonymous_27)",decl:{start:{line:392,column:72},end:{line:392,column:73}},loc:{start:{line:392,column:84},end:{line:394,column:5}},line:392},"28":{name:"(anonymous_28)",decl:{start:{line:394,column:13},end:{line:394,column:14}},loc:{start:{line:394,column:18},end:{line:398,column:5}},line:394},"29":{name:"(anonymous_29)",decl:{start:{line:402,column:27},end:{line:402,column:28}},loc:{start:{line:402,column:38},end:{line:410,column:1}},line:402},"30":{name:"(anonymous_30)",decl:{start:{line:403,column:53},end:{line:403,column:54}},loc:{start:{line:403,column:65},end:{line:405,column:5}},line:403},"31":{name:"(anonymous_31)",decl:{start:{line:405,column:13},end:{line:405,column:14}},loc:{start:{line:405,column:20},end:{line:409,column:5}},line:405},"32":{name:"(anonymous_32)",decl:{start:{line:413,column:16},end:{line:413,column:17}},loc:{start:{line:413,column:20},end:{line:415,column:1}},line:413}},branchMap:{"0":{loc:{start:{line:69,column:2},end:{line:71,column:3}},type:"if",locations:[{start:{line:69,column:2},end:{line:71,column:3}},{start:{line:69,column:2},end:{line:71,column:3}}],line:69},"1":{loc:{start:{line:74,column:2},end:{line:76,column:3}},type:"if",locations:[{start:{line:74,column:2},end:{line:76,column:3}},{start:{line:74,column:2},end:{line:76,column:3}}],line:74},"2":{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:114,column:4},end:{line:116,column:5}}],line:114},"3":{loc:{start:{line:174,column:6},end:{line:176,column:7}},type:"if",locations:[{start:{line:174,column:6},end:{line:176,column:7}},{start:{line:174,column:6},end:{line:176,column:7}}],line:174},"4":{loc:{start:{line:203,column:6},end:{line:205,column:7}},type:"if",locations:[{start:{line:203,column:6},end:{line:205,column:7}},{start:{line:203,column:6},end:{line:205,column:7}}],line:203},"5":{loc:{start:{line:235,column:6},end:{line:237,column:7}},type:"if",locations:[{start:{line:235,column:6},end:{line:237,column:7}},{start:{line:235,column:6},end:{line:237,column:7}}],line:235},"6":{loc:{start:{line:315,column:6},end:{line:317,column:7}},type:"if",locations:[{start:{line:315,column:6},end:{line:317,column:7}},{start:{line:315,column:6},end:{line:317,column:7}}],line:315},"7":{loc:{start:{line:364,column:6},end:{line:366,column:7}},type:"if",locations:[{start:{line:364,column:6},end:{line:366,column:7}},{start:{line:364,column:6},end:{line:366,column:7}}],line:364},"8":{loc:{start:{line:395,column:6},end:{line:397,column:7}},type:"if",locations:[{start:{line:395,column:6},end:{line:397,column:7}},{start:{line:395,column:6},end:{line:397,column:7}}],line:395},"9":{loc:{start:{line:406,column:6},end:{line:408,column:7}},type:"if",locations:[{start:{line:406,column:6},end:{line:408,column:7}},{start:{line:406,column:6},end:{line:408,column:7}}],line:406}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55b7be08cd4c901b389543af3bf73feec7a8b2b8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1pk59t92gc=function(){return actualCoverage;};}return actualCoverage;}cov_1pk59t92gc();//load express
const express=(cov_1pk59t92gc().s[0]++,require('express'));const app=(cov_1pk59t92gc().s[1]++,express());//communication with other services
const axios=(cov_1pk59t92gc().s[2]++,require('axios'));//middleware
const bodyParser=(cov_1pk59t92gc().s[3]++,require('body-parser'));cov_1pk59t92gc().s[4]++;app.use(bodyParser.json());//load cookie parser
const cookieParser=(cov_1pk59t92gc().s[5]++,require('cookie-parser'));//webtoken
const jwt=(cov_1pk59t92gc().s[6]++,require('jsonwebtoken'));cov_1pk59t92gc().s[7]++;app.use(cookieParser());//cors
const cors=(cov_1pk59t92gc().s[8]++,require('cors'));cov_1pk59t92gc().s[9]++;app.use(cors());//load mongoose
const mongoose=(cov_1pk59t92gc().s[10]++,require('mongoose'));//connect
cov_1pk59t92gc().s[11]++;mongoose.connect("mongodb+srv://yash123:yash123@cluster0.an7nj.mongodb.net/serviceadmin",()=>{cov_1pk59t92gc().f[0]++;cov_1pk59t92gc().s[12]++;console.log("Admin Database Connected Successfully!");});//swagger
const swaggerJSDoc=(cov_1pk59t92gc().s[13]++,require('swagger-jsdoc'));const swaggerUI=(cov_1pk59t92gc().s[14]++,require('swagger-ui-express'));const swaggerOptions=(cov_1pk59t92gc().s[15]++,{definition:{openapi:'3.0.0',info:{title:'Admin Management API',version:'1.0.0',description:'Admin Api for train management',contact:{name:'Yash Patil',url:'http://jakeperalta.com',email:'jakeperalta@gmail.com'},servers:["http://localhost:7070"]}},apis:["admins.js"]});const swaggerDocs=(cov_1pk59t92gc().s[16]++,swaggerJSDoc(swaggerOptions));cov_1pk59t92gc().s[17]++;app.use('/api-docs',swaggerUI.serve,swaggerUI.setup(swaggerDocs));cov_1pk59t92gc().s[18]++;require("./Admin");const Admin=(cov_1pk59t92gc().s[19]++,mongoose.model("Admin"));cov_1pk59t92gc().s[20]++;app.get('/',(req,res)=>{cov_1pk59t92gc().f[1]++;cov_1pk59t92gc().s[21]++;res.send("This is our admins service");});//handling errors
cov_1pk59t92gc().s[22]++;const handleErrors=err=>{cov_1pk59t92gc().f[2]++;cov_1pk59t92gc().s[23]++;console.log(err.message,err.code);let errors=(cov_1pk59t92gc().s[24]++,{adminname:'',password:''});//incorrect email
cov_1pk59t92gc().s[25]++;if(err.message==="incorrect adminname"){cov_1pk59t92gc().b[0][0]++;cov_1pk59t92gc().s[26]++;errors.adminname="ADMIN NAME DOES NOT EXIST";}else{cov_1pk59t92gc().b[0][1]++;}//incorrect password
cov_1pk59t92gc().s[27]++;if(err.message==="incorrect password"){cov_1pk59t92gc().b[1][0]++;cov_1pk59t92gc().s[28]++;errors.password="INCORRECT PASSWORD";}else{cov_1pk59t92gc().b[1][1]++;}cov_1pk59t92gc().s[29]++;return errors;};//token generation
const maxAge=(cov_1pk59t92gc().s[30]++,7*24*60*60);//7 days
cov_1pk59t92gc().s[31]++;const createToken=id=>{cov_1pk59t92gc().f[3]++;cov_1pk59t92gc().s[32]++;return jwt.sign({id},"friends secret",{expiresIn:maxAge});};//add new admin
cov_1pk59t92gc().s[33]++;app.post('/admin/login',async(req,res)=>{cov_1pk59t92gc().f[4]++;const{adminname,password}=(cov_1pk59t92gc().s[34]++,req.body);//new login post for jwt
cov_1pk59t92gc().s[35]++;try{const admin=(cov_1pk59t92gc().s[36]++,await Admin.login(adminname,password));const token=(cov_1pk59t92gc().s[37]++,createToken(admin._id));cov_1pk59t92gc().s[38]++;res.cookie('jwt',token,{httpOnly:true,maxAge:maxAge*7000});cov_1pk59t92gc().s[39]++;res.status(200).send({token});cov_1pk59t92gc().s[40]++;console.log("Authorized admin");}catch(err){const errors=(cov_1pk59t92gc().s[41]++,handleErrors(err));cov_1pk59t92gc().s[42]++;res.status(400).json({errors});cov_1pk59t92gc().s[43]++;console.log("Unauthorized admin");}});//find all admins
cov_1pk59t92gc().s[44]++;app.get('/admins',(req,res)=>{cov_1pk59t92gc().f[5]++;cov_1pk59t92gc().s[45]++;Admin.find().then(admins=>{cov_1pk59t92gc().f[6]++;cov_1pk59t92gc().s[46]++;res.json(admins);}).catch(err=>{cov_1pk59t92gc().f[7]++;cov_1pk59t92gc().s[47]++;if(err){cov_1pk59t92gc().b[2][0]++;cov_1pk59t92gc().s[48]++;throw err;}else{cov_1pk59t92gc().b[2][1]++;}});});//view by admin key
// app.get('/admin/:key',(req,res)=>{
//    Admin.find({key:req.params.key},(err,data)=>{
//      if (err) throw err;
//      res.json(data);
//    });
// });
//delete all admins
cov_1pk59t92gc().s[49]++;app.delete('/admin',(req,res)=>{cov_1pk59t92gc().f[8]++;cov_1pk59t92gc().s[50]++;Admin.deleteMany({}).then(()=>{cov_1pk59t92gc().f[9]++;cov_1pk59t92gc().s[51]++;Admin.find().then(admins=>{cov_1pk59t92gc().f[10]++;cov_1pk59t92gc().s[52]++;res.json(admins);});});});//delete admin by key
// app.delete('/admin/:key',(req,res)=>{
//   Admin.deleteOne({key:req.params.key}).then(()=>{
//     Admin.find({}).then((admins)=>{
//       res.send("Deleted Successfully");
//     })
//   })
// });
//
// //update admin details by entering key and see the updated value
// app.put('/admin/:key',(req,res)=>{
//   Admin.findOneAndUpdate({key:req.params.key},req.body).then(()=>{
//     Admin.findOne({key:req.params.key}).then((admins)=>{
//       res.json(admins); //returns updated admin
//     })
//   })
// });
//playing with trains Database
/**
 * @swagger
 * /admin/trains:
 *  get:
 *   summary: get all trains
 *   description: get all trains
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //view all trains
cov_1pk59t92gc().s[53]++;app.get('/admin/trains',(req,res)=>{cov_1pk59t92gc().f[11]++;cov_1pk59t92gc().s[54]++;axios.get("http://localhost:4545/trains").then(response=>{cov_1pk59t92gc().f[12]++;cov_1pk59t92gc().s[55]++;res.send(response.data);}).catch(err=>{cov_1pk59t92gc().f[13]++;cov_1pk59t92gc().s[56]++;if(err){cov_1pk59t92gc().b[3][0]++;cov_1pk59t92gc().s[57]++;throw err;}else{cov_1pk59t92gc().b[3][1]++;}});});//view all registered users
// app.get('/admin/:key/users',(req,res)=>{
//   Admin.find({key:req.params.key}).then((admins)=>{
//     axios.get("http://localhost:5555/users").then((response)=>{
//       res.send(response.data);
//     }).catch(err => {
//       if(err){
//         throw err;
//       }
//     })
//   }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
//view all Bookings
cov_1pk59t92gc().s[58]++;app.get('/admin/bookings',(req,res)=>{cov_1pk59t92gc().f[14]++;cov_1pk59t92gc().s[59]++;axios.get("http://localhost:2222/bookings").then(response=>{cov_1pk59t92gc().f[15]++;cov_1pk59t92gc().s[60]++;res.send(response.data);}).catch(err=>{cov_1pk59t92gc().f[16]++;cov_1pk59t92gc().s[61]++;if(err){cov_1pk59t92gc().b[4][0]++;cov_1pk59t92gc().s[62]++;throw err;}else{cov_1pk59t92gc().b[4][1]++;}});});/**
 * @swagger
 * /admin/{trainname}:
 *  get:
 *   summary: get train by train name
 *   description: get  train by train name
 *   parameters:
 *    - in: path
 *      name: trainname
 *      schema:
 *       type: string
 *       required: true
 *       description: name of train
 *       example: 'Mumbai Express'
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //get train by trainname
cov_1pk59t92gc().s[63]++;app.get('/admin/:train',(req,res)=>{cov_1pk59t92gc().f[17]++;cov_1pk59t92gc().s[64]++;axios.get("http://localhost:4545/train/"+req.params.train).then(response=>{cov_1pk59t92gc().f[18]++;cov_1pk59t92gc().s[65]++;res.send(response.data);}).catch(err=>{cov_1pk59t92gc().f[19]++;cov_1pk59t92gc().s[66]++;if(err){cov_1pk59t92gc().b[5][0]++;cov_1pk59t92gc().s[67]++;throw err;}else{cov_1pk59t92gc().b[5][1]++;}});});/**
 * @swagger
 * definitions:
 *  Train:
 *   properties:
 *    trainno:
 *     type: number
 *     description: number of the train
 *     example: 987
 *    trainname:
 *     type: string
 *     description: name of the train
 *     example: 'Geetanjali Express'
 *    source:
 *     type: string
 *     description: source of the train
 *     example: 'Mumbai'
 *    destination:
 *     type: string
 *     description: destination of the train
 *     example: 'Pune'
 *    seatavail:
 *     type: number
 *     description: seat availability of the train
 *     example: 109
 *    depttime:
 *     type: string
 *     description: departure time of the train
 *     example: '17:08'
 *    arrivename:
 *     type: string
 *     description: arrival time of the train
 *     example: '18:00'
 *    fare:
 *     type: number
 *     description: Fare of the train
 *     example: 1010
 */ /**
 * @swagger
 * /admin/trains:
 *  post:
 *   summary: create train
 *   description: create train for the people
 *   requestBody:
 *    content:
 *     application/json:
 *      schema:
 *       $ref: "#/definitions/Train"
 *   responses:
 *    200:
 *     description: train created successully
 *    500:
 *     description: failure in creating train
 */ // //add train by trainname
cov_1pk59t92gc().s[68]++;app.post('/admin/trains',(req,res)=>{cov_1pk59t92gc().f[20]++;var newTrain=(cov_1pk59t92gc().s[69]++,{trainno:req.body.trainno,trainname:req.body.trainname,source:req.body.source,destination:req.body.destination,seatavail:req.body.seatavail,depttime:req.body.depttime,arrivename:req.body.arrivename,fare:req.body.fare});cov_1pk59t92gc().s[70]++;axios.post("http://localhost:4545/train",newTrain).then(response=>{cov_1pk59t92gc().f[21]++;cov_1pk59t92gc().s[71]++;res.json(response.data);}).catch(err=>{cov_1pk59t92gc().f[22]++;cov_1pk59t92gc().s[72]++;if(err){cov_1pk59t92gc().b[6][0]++;cov_1pk59t92gc().s[73]++;throw err;}else{cov_1pk59t92gc().b[6][1]++;}});});/**
 * @swagger
 * /admin/{trainname}:
 *  put:
 *   summary: update train
 *   description: update train
 *   consumes:
 *    - application/json
 *   produces:
 *    - application/json
 *   parameters:
 *    - in: path
 *      name: trainname
 *      schema:
 *       type: string
 *      required: true
 *      description: name of train
 *      example: 'Geetanjali Express'
 *    - in: body
 *      name: body
 *      required: true
 *      description: body object
 *      schema:
 *       $ref: "#/definitions/Train"
 *   requestBody:
 *    content:
 *     application/json:
 *      schema:
 *       $ref: "#/definitions/Train"
 *   responses:
 *    200:
 *     description: success
 *     content:
 *      application/json:
 *       schema:
 *        $ref: "#/definitions/Train"
 */ //edit train
cov_1pk59t92gc().s[74]++;app.put('/admin/:train',(req,res)=>{cov_1pk59t92gc().f[23]++;cov_1pk59t92gc().s[75]++;axios.put("http://localhost:4545/train/"+req.params.train,req.body).then(response=>{cov_1pk59t92gc().f[24]++;cov_1pk59t92gc().s[76]++;res.json(response.data);}).catch(err=>{cov_1pk59t92gc().f[25]++;cov_1pk59t92gc().s[77]++;if(err){cov_1pk59t92gc().b[7][0]++;cov_1pk59t92gc().s[78]++;throw err;}else{cov_1pk59t92gc().b[7][1]++;}});});/**
 * @swagger
 * /admin/{trainname}:
 *  delete:
 *   summary: delete train
 *   description: delete train
 *   parameters:
 *    - in: path
 *      name: trainname
 *      schema:
 *       type: string
 *       required: true
 *       description: name of train
 *       example: 'Mumbai Express'
 *   responses:
 *    200:
 *     description: success
 *    500:
 *     description: failure
 */ //delete train by trainname
cov_1pk59t92gc().s[79]++;app.delete('/admin/:train',(req,res)=>{cov_1pk59t92gc().f[26]++;cov_1pk59t92gc().s[80]++;axios.delete("http://localhost:4545/train/"+req.params.train).then(response=>{cov_1pk59t92gc().f[27]++;cov_1pk59t92gc().s[81]++;res.json("Deleted Successfully");}).catch(err=>{cov_1pk59t92gc().f[28]++;cov_1pk59t92gc().s[82]++;if(err){cov_1pk59t92gc().b[8][0]++;cov_1pk59t92gc().s[83]++;throw err;}else{cov_1pk59t92gc().b[8][1]++;}});});//delete all Trains
cov_1pk59t92gc().s[84]++;app.delete('/admin/trains',(req,res)=>{cov_1pk59t92gc().f[29]++;cov_1pk59t92gc().s[85]++;axios.delete("http://localhost:4545/train").then(response=>{cov_1pk59t92gc().f[30]++;cov_1pk59t92gc().s[86]++;res.send("Deleted all trains successfully");}).catch(err=>{cov_1pk59t92gc().f[31]++;cov_1pk59t92gc().s[87]++;if(err){cov_1pk59t92gc().b[9][0]++;cov_1pk59t92gc().s[88]++;throw err;}else{cov_1pk59t92gc().b[9][1]++;}});});cov_1pk59t92gc().s[89]++;app.listen(7070,()=>{cov_1pk59t92gc().f[32]++;cov_1pk59t92gc().s[90]++;console.log("Up and running! -- This is our Admins Service");});cov_1pk59t92gc().s[91]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWlucy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImF4aW9zIiwiYm9keVBhcnNlciIsInVzZSIsImpzb24iLCJjb29raWVQYXJzZXIiLCJqd3QiLCJjb3JzIiwibW9uZ29vc2UiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsInN3YWdnZXJKU0RvYyIsInN3YWdnZXJVSSIsInN3YWdnZXJPcHRpb25zIiwiZGVmaW5pdGlvbiIsIm9wZW5hcGkiLCJpbmZvIiwidGl0bGUiLCJ2ZXJzaW9uIiwiZGVzY3JpcHRpb24iLCJjb250YWN0IiwibmFtZSIsInVybCIsImVtYWlsIiwic2VydmVycyIsImFwaXMiLCJzd2FnZ2VyRG9jcyIsInNlcnZlIiwic2V0dXAiLCJBZG1pbiIsIm1vZGVsIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImhhbmRsZUVycm9ycyIsImVyciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3JzIiwiYWRtaW5uYW1lIiwicGFzc3dvcmQiLCJtYXhBZ2UiLCJjcmVhdGVUb2tlbiIsImlkIiwic2lnbiIsImV4cGlyZXNJbiIsInBvc3QiLCJib2R5IiwiYWRtaW4iLCJsb2dpbiIsInRva2VuIiwiX2lkIiwiY29va2llIiwiaHR0cE9ubHkiLCJzdGF0dXMiLCJmaW5kIiwidGhlbiIsImFkbWlucyIsImNhdGNoIiwiZGVsZXRlIiwiZGVsZXRlTWFueSIsInJlc3BvbnNlIiwiZGF0YSIsInBhcmFtcyIsInRyYWluIiwibmV3VHJhaW4iLCJ0cmFpbm5vIiwidHJhaW5uYW1lIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJzZWF0YXZhaWwiLCJkZXB0dGltZSIsImFycml2ZW5hbWUiLCJmYXJlIiwicHV0IiwibGlzdGVuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjgrYUFlWTsyRkFmWjtBQUNBLEtBQU1BLENBQUFBLE9BQU8sMEJBQUNDLE9BQU8sQ0FBQyxTQUFELENBQVIsQ0FBYixDQUNBLEtBQU1DLENB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c3M9cmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBhcHA9ZXhwcmVzcygpO1xyXG5cclxuLy9jb21tdW5pY2F0aW9uIHdpdGggb3RoZXIgc2VydmljZXNcclxuY29uc3QgYXhpb3M9cmVxdWlyZSgnYXhpb3MnKTtcclxuXHJcbi8vbWlkZGxld2FyZVxyXG5jb25zdCBib2R5UGFyc2VyPXJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5cclxuLy9sb2FkIGNvb2tpZSBwYXJzZXJcclxuY29uc3QgY29va2llUGFyc2VyPXJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKTtcclxuXHJcbi8vd2VidG9rZW5cclxuY29uc3Qgand0PXJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5cclxuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XHJcblxyXG4vL2NvcnNcclxuY29uc3QgY29ycz1yZXF1aXJlKCdjb3JzJyk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbi8vbG9hZCBtb25nb29zZVxyXG5jb25zdCBtb25nb29zZT1yZXF1aXJlKCdtb25nb29zZScpO1xyXG5cclxuLy9jb25uZWN0XHJcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiK3NydjovL3lhc2gxMjM6eWFzaDEyM0BjbHVzdGVyMC5hbjduai5tb25nb2RiLm5ldC9zZXJ2aWNlYWRtaW5cIiwoKT0+e1xyXG4gIGNvbnNvbGUubG9nKFwiQWRtaW4gRGF0YWJhc2UgQ29ubmVjdGVkIFN1Y2Nlc3NmdWxseSFcIik7XHJcbn0pO1xyXG5cclxuLy9zd2FnZ2VyXHJcbmNvbnN0IHN3YWdnZXJKU0RvYz1yZXF1aXJlKCdzd2FnZ2VyLWpzZG9jJyk7XHJcbmNvbnN0IHN3YWdnZXJVST1yZXF1aXJlKCdzd2FnZ2VyLXVpLWV4cHJlc3MnKTtcclxuXHJcbmNvbnN0IHN3YWdnZXJPcHRpb25zPXtcclxuICBkZWZpbml0aW9uOntcclxuICAgIG9wZW5hcGk6JzMuMC4wJyxcclxuICAgIGluZm86e1xyXG4gICAgICB0aXRsZTonQWRtaW4gTWFuYWdlbWVudCBBUEknLFxyXG4gICAgICB2ZXJzaW9uOicxLjAuMCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOidBZG1pbiBBcGkgZm9yIHRyYWluIG1hbmFnZW1lbnQnLFxyXG4gICAgICBjb250YWN0OntcclxuICAgICAgICBuYW1lOidZYXNoIFBhdGlsJyxcclxuICAgICAgICB1cmw6J2h0dHA6Ly9qYWtlcGVyYWx0YS5jb20nLFxyXG4gICAgICAgIGVtYWlsOidqYWtlcGVyYWx0YUBnbWFpbC5jb20nXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlcnZlcnM6W1wiaHR0cDovL2xvY2FsaG9zdDo3MDcwXCJdXHJcbiAgICB9XHJcbiAgfSxcclxuICBhcGlzOltcImFkbWlucy5qc1wiXVxyXG59XHJcbmNvbnN0IHN3YWdnZXJEb2NzPXN3YWdnZXJKU0RvYyhzd2FnZ2VyT3B0aW9ucyk7XHJcbmFwcC51c2UoJy9hcGktZG9jcycsc3dhZ2dlclVJLnNlcnZlLHN3YWdnZXJVSS5zZXR1cChzd2FnZ2VyRG9jcykpO1xyXG5cclxucmVxdWlyZShcIi4vQWRtaW5cIik7XHJcbmNvbnN0IEFkbWluPW1vbmdvb3NlLm1vZGVsKFwiQWRtaW5cIik7XHJcblxyXG5hcHAuZ2V0KCcvJywocmVxLHJlcyk9PntcclxuICByZXMuc2VuZChcIlRoaXMgaXMgb3VyIGFkbWlucyBzZXJ2aWNlXCIpO1xyXG59KTtcclxuXHJcbi8vaGFuZGxpbmcgZXJyb3JzXHJcbmNvbnN0IGhhbmRsZUVycm9ycz0oZXJyKT0+e1xyXG4gIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlLGVyci5jb2RlKTtcclxuICBsZXQgZXJyb3JzPXthZG1pbm5hbWU6JycscGFzc3dvcmQ6Jyd9O1xyXG5cclxuICAvL2luY29ycmVjdCBlbWFpbFxyXG4gIGlmKGVyci5tZXNzYWdlPT09XCJpbmNvcnJlY3QgYWRtaW5uYW1lXCIpe1xyXG4gICAgZXJyb3JzLmFkbWlubmFtZT1cIkFETUlOIE5BTUUgRE9FUyBOT1QgRVhJU1RcIjtcclxuICB9XHJcblxyXG4gIC8vaW5jb3JyZWN0IHBhc3N3b3JkXHJcbiAgaWYoZXJyLm1lc3NhZ2U9PT1cImluY29ycmVjdCBwYXNzd29yZFwiKXtcclxuICAgIGVycm9ycy5wYXNzd29yZD1cIklOQ09SUkVDVCBQQVNTV09SRFwiO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycztcclxufVxyXG5cclxuLy90b2tlbiBnZW5lcmF0aW9uXHJcbmNvbnN0IG1heEFnZT03KjI0KjYwKjYwOyAvLzcgZGF5c1xyXG5jb25zdCBjcmVhdGVUb2tlbj0oaWQpPT57XHJcbiAgcmV0dXJuIGp3dC5zaWduKHtpZH0sXCJmcmllbmRzIHNlY3JldFwiLHtcclxuICAgIGV4cGlyZXNJbjptYXhBZ2VcclxuICB9KTtcclxufVxyXG5cclxuLy9hZGQgbmV3IGFkbWluXHJcbmFwcC5wb3N0KCcvYWRtaW4vbG9naW4nLGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgY29uc3Qge2FkbWlubmFtZSxwYXNzd29yZH09cmVxLmJvZHk7XHJcblxyXG4gIC8vbmV3IGxvZ2luIHBvc3QgZm9yIGp3dFxyXG4gIHRyeXtcclxuICAgIGNvbnN0IGFkbWluPWF3YWl0IEFkbWluLmxvZ2luKGFkbWlubmFtZSxwYXNzd29yZCk7XHJcbiAgICBjb25zdCB0b2tlbj1jcmVhdGVUb2tlbihhZG1pbi5faWQpO1xyXG4gICAgcmVzLmNvb2tpZSgnand0Jyx0b2tlbix7aHR0cE9ubHk6dHJ1ZSxtYXhBZ2U6bWF4QWdlKjcwMDB9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHt0b2tlbn0pO1xyXG4gICAgY29uc29sZS5sb2coXCJBdXRob3JpemVkIGFkbWluXCIpO1xyXG4gIH1cclxuICBjYXRjaChlcnIpe1xyXG4gICAgY29uc3QgZXJyb3JzPWhhbmRsZUVycm9ycyhlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2Vycm9yc30pO1xyXG4gICAgY29uc29sZS5sb2coXCJVbmF1dGhvcml6ZWQgYWRtaW5cIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vZmluZCBhbGwgYWRtaW5zXHJcbmFwcC5nZXQoJy9hZG1pbnMnLChyZXEscmVzKT0+e1xyXG5cclxuICBBZG1pbi5maW5kKCkudGhlbigoYWRtaW5zKT0+e1xyXG4gICAgcmVzLmpzb24oYWRtaW5zKTtcclxuICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgaWYoZXJyKXtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuLy92aWV3IGJ5IGFkbWluIGtleVxyXG4vLyBhcHAuZ2V0KCcvYWRtaW4vOmtleScsKHJlcSxyZXMpPT57XHJcbi8vICAgIEFkbWluLmZpbmQoe2tleTpyZXEucGFyYW1zLmtleX0sKGVycixkYXRhKT0+e1xyXG4vLyAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuLy8gICAgICByZXMuanNvbihkYXRhKTtcclxuLy8gICAgfSk7XHJcbi8vIH0pO1xyXG5cclxuLy9kZWxldGUgYWxsIGFkbWluc1xyXG5hcHAuZGVsZXRlKCcvYWRtaW4nLChyZXEscmVzKT0+e1xyXG4gIEFkbWluLmRlbGV0ZU1hbnkoe30pLnRoZW4oKCk9PntcclxuICAgIEFkbWluLmZpbmQoKS50aGVuKChhZG1pbnMpPT57XHJcbiAgICAgIHJlcy5qc29uKGFkbWlucyk7XHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuLy9kZWxldGUgYWRtaW4gYnkga2V5XHJcbi8vIGFwcC5kZWxldGUoJy9hZG1pbi86a2V5JywocmVxLHJlcyk9PntcclxuLy8gICBBZG1pbi5kZWxldGVPbmUoe2tleTpyZXEucGFyYW1zLmtleX0pLnRoZW4oKCk9PntcclxuLy8gICAgIEFkbWluLmZpbmQoe30pLnRoZW4oKGFkbWlucyk9PntcclxuLy8gICAgICAgcmVzLnNlbmQoXCJEZWxldGVkIFN1Y2Nlc3NmdWxseVwiKTtcclxuLy8gICAgIH0pXHJcbi8vICAgfSlcclxuLy8gfSk7XHJcbi8vXHJcbi8vIC8vdXBkYXRlIGFkbWluIGRldGFpbHMgYnkgZW50ZXJpbmcga2V5IGFuZCBzZWUgdGhlIHVwZGF0ZWQgdmFsdWVcclxuLy8gYXBwLnB1dCgnL2FkbWluLzprZXknLChyZXEscmVzKT0+e1xyXG4vLyAgIEFkbWluLmZpbmRPbmVBbmRVcGRhdGUoe2tleTpyZXEucGFyYW1zLmtleX0scmVxLmJvZHkpLnRoZW4oKCk9PntcclxuLy8gICAgIEFkbWluLmZpbmRPbmUoe2tleTpyZXEucGFyYW1zLmtleX0pLnRoZW4oKGFkbWlucyk9PntcclxuLy8gICAgICAgcmVzLmpzb24oYWRtaW5zKTsgLy9yZXR1cm5zIHVwZGF0ZWQgYWRtaW5cclxuLy8gICAgIH0pXHJcbi8vICAgfSlcclxuLy8gfSk7XHJcblxyXG4vL3BsYXlpbmcgd2l0aCB0cmFpbnMgRGF0YWJhc2VcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9hZG1pbi90cmFpbnM6XHJcbiAqICBnZXQ6XHJcbiAqICAgc3VtbWFyeTogZ2V0IGFsbCB0cmFpbnNcclxuICogICBkZXNjcmlwdGlvbjogZ2V0IGFsbCB0cmFpbnNcclxuICogICByZXNwb25zZXM6XHJcbiAqICAgIDIwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBzdWNjZXNzXHJcbiAqICAgIDUwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBmYWlsdXJlXHJcbiAqL1xyXG5cclxuLy92aWV3IGFsbCB0cmFpbnNcclxuYXBwLmdldCgnL2FkbWluL3RyYWlucycsKHJlcSxyZXMpPT57XHJcbiAgICBheGlvcy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW5zXCIpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxufSk7XHJcblxyXG4vL3ZpZXcgYWxsIHJlZ2lzdGVyZWQgdXNlcnNcclxuLy8gYXBwLmdldCgnL2FkbWluLzprZXkvdXNlcnMnLChyZXEscmVzKT0+e1xyXG4vLyAgIEFkbWluLmZpbmQoe2tleTpyZXEucGFyYW1zLmtleX0pLnRoZW4oKGFkbWlucyk9PntcclxuLy8gICAgIGF4aW9zLmdldChcImh0dHA6Ly9sb2NhbGhvc3Q6NTU1NS91c2Vyc1wiKS50aGVuKChyZXNwb25zZSk9PntcclxuLy8gICAgICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbi8vICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4vLyAgICAgICBpZihlcnIpe1xyXG4vLyAgICAgICAgIHRocm93IGVycjtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSlcclxuLy8gICB9KS5jYXRjaChlcnIgPT4ge1xyXG4vLyAgICAgaWYoZXJyKXtcclxuLy8gICAgICAgdGhyb3cgZXJyO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pXHJcbi8vIH0pO1xyXG5cclxuLy92aWV3IGFsbCBCb29raW5nc1xyXG5hcHAuZ2V0KCcvYWRtaW4vYm9va2luZ3MnLChyZXEscmVzKT0+e1xyXG4gICAgYXhpb3MuZ2V0KFwiaHR0cDovL2xvY2FsaG9zdDoyMjIyL2Jvb2tpbmdzXCIpLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxufSk7XHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL3t0cmFpbm5hbWV9OlxyXG4gKiAgZ2V0OlxyXG4gKiAgIHN1bW1hcnk6IGdldCB0cmFpbiBieSB0cmFpbiBuYW1lXHJcbiAqICAgZGVzY3JpcHRpb246IGdldCAgdHJhaW4gYnkgdHJhaW4gbmFtZVxyXG4gKiAgIHBhcmFtZXRlcnM6XHJcbiAqICAgIC0gaW46IHBhdGhcclxuICogICAgICBuYW1lOiB0cmFpbm5hbWVcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICBkZXNjcmlwdGlvbjogbmFtZSBvZiB0cmFpblxyXG4gKiAgICAgICBleGFtcGxlOiAnTXVtYmFpIEV4cHJlc3MnXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3VjY2Vzc1xyXG4gKiAgICA1MDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogZmFpbHVyZVxyXG4gKi9cclxuLy9nZXQgdHJhaW4gYnkgdHJhaW5uYW1lXHJcbmFwcC5nZXQoJy9hZG1pbi86dHJhaW4nLChyZXEscmVzKT0+e1xyXG4gICAgYXhpb3MuZ2V0KFwiaHR0cDovL2xvY2FsaG9zdDo0NTQ1L3RyYWluL1wiK3JlcS5wYXJhbXMudHJhaW4pLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxufSk7XHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogZGVmaW5pdGlvbnM6XHJcbiAqICBUcmFpbjpcclxuICogICBwcm9wZXJ0aWVzOlxyXG4gKiAgICB0cmFpbm5vOlxyXG4gKiAgICAgdHlwZTogbnVtYmVyXHJcbiAqICAgICBkZXNjcmlwdGlvbjogbnVtYmVyIG9mIHRoZSB0cmFpblxyXG4gKiAgICAgZXhhbXBsZTogOTg3XHJcbiAqICAgIHRyYWlubmFtZTpcclxuICogICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgZGVzY3JpcHRpb246IG5hbWUgb2YgdGhlIHRyYWluXHJcbiAqICAgICBleGFtcGxlOiAnR2VldGFuamFsaSBFeHByZXNzJ1xyXG4gKiAgICBzb3VyY2U6XHJcbiAqICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgIGRlc2NyaXB0aW9uOiBzb3VyY2Ugb2YgdGhlIHRyYWluXHJcbiAqICAgICBleGFtcGxlOiAnTXVtYmFpJ1xyXG4gKiAgICBkZXN0aW5hdGlvbjpcclxuICogICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgZGVzY3JpcHRpb246IGRlc3RpbmF0aW9uIG9mIHRoZSB0cmFpblxyXG4gKiAgICAgZXhhbXBsZTogJ1B1bmUnXHJcbiAqICAgIHNlYXRhdmFpbDpcclxuICogICAgIHR5cGU6IG51bWJlclxyXG4gKiAgICAgZGVzY3JpcHRpb246IHNlYXQgYXZhaWxhYmlsaXR5IG9mIHRoZSB0cmFpblxyXG4gKiAgICAgZXhhbXBsZTogMTA5XHJcbiAqICAgIGRlcHR0aW1lOlxyXG4gKiAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICBkZXNjcmlwdGlvbjogZGVwYXJ0dXJlIHRpbWUgb2YgdGhlIHRyYWluXHJcbiAqICAgICBleGFtcGxlOiAnMTc6MDgnXHJcbiAqICAgIGFycml2ZW5hbWU6XHJcbiAqICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgIGRlc2NyaXB0aW9uOiBhcnJpdmFsIHRpbWUgb2YgdGhlIHRyYWluXHJcbiAqICAgICBleGFtcGxlOiAnMTg6MDAnXHJcbiAqICAgIGZhcmU6XHJcbiAqICAgICB0eXBlOiBudW1iZXJcclxuICogICAgIGRlc2NyaXB0aW9uOiBGYXJlIG9mIHRoZSB0cmFpblxyXG4gKiAgICAgZXhhbXBsZTogMTAxMFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL3RyYWluczpcclxuICogIHBvc3Q6XHJcbiAqICAgc3VtbWFyeTogY3JlYXRlIHRyYWluXHJcbiAqICAgZGVzY3JpcHRpb246IGNyZWF0ZSB0cmFpbiBmb3IgdGhlIHBlb3BsZVxyXG4gKiAgIHJlcXVlc3RCb2R5OlxyXG4gKiAgICBjb250ZW50OlxyXG4gKiAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgICRyZWY6IFwiIy9kZWZpbml0aW9ucy9UcmFpblwiXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogdHJhaW4gY3JlYXRlZCBzdWNjZXNzdWxseVxyXG4gKiAgICA1MDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogZmFpbHVyZSBpbiBjcmVhdGluZyB0cmFpblxyXG4gKi9cclxuXHJcbi8vIC8vYWRkIHRyYWluIGJ5IHRyYWlubmFtZVxyXG5hcHAucG9zdCgnL2FkbWluL3RyYWlucycsKHJlcSxyZXMpPT57XHJcbiAgICB2YXIgbmV3VHJhaW49e1xyXG4gICAgICB0cmFpbm5vOnJlcS5ib2R5LnRyYWlubm8sXHJcbiAgICAgIHRyYWlubmFtZTpyZXEuYm9keS50cmFpbm5hbWUsXHJcbiAgICAgIHNvdXJjZTpyZXEuYm9keS5zb3VyY2UsXHJcbiAgICAgIGRlc3RpbmF0aW9uOnJlcS5ib2R5LmRlc3RpbmF0aW9uLFxyXG4gICAgICBzZWF0YXZhaWw6cmVxLmJvZHkuc2VhdGF2YWlsLFxyXG4gICAgICBkZXB0dGltZTpyZXEuYm9keS5kZXB0dGltZSxcclxuICAgICAgYXJyaXZlbmFtZTpyZXEuYm9keS5hcnJpdmVuYW1lLFxyXG4gICAgICBmYXJlOnJlcS5ib2R5LmZhcmVcclxuICAgIH1cclxuICAgIGF4aW9zLnBvc3QoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW5cIixuZXdUcmFpbikudGhlbigocmVzcG9uc2UpPT57XHJcbiAgICAgIHJlcy5qc29uKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgfSkuY2F0Y2goZXJyPT57XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL3t0cmFpbm5hbWV9OlxyXG4gKiAgcHV0OlxyXG4gKiAgIHN1bW1hcnk6IHVwZGF0ZSB0cmFpblxyXG4gKiAgIGRlc2NyaXB0aW9uOiB1cGRhdGUgdHJhaW5cclxuICogICBjb25zdW1lczpcclxuICogICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgcHJvZHVjZXM6XHJcbiAqICAgIC0gYXBwbGljYXRpb24vanNvblxyXG4gKiAgIHBhcmFtZXRlcnM6XHJcbiAqICAgIC0gaW46IHBhdGhcclxuICogICAgICBuYW1lOiB0cmFpbm5hbWVcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgZGVzY3JpcHRpb246IG5hbWUgb2YgdHJhaW5cclxuICogICAgICBleGFtcGxlOiAnR2VldGFuamFsaSBFeHByZXNzJ1xyXG4gKiAgICAtIGluOiBib2R5XHJcbiAqICAgICAgbmFtZTogYm9keVxyXG4gKiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgZGVzY3JpcHRpb246IGJvZHkgb2JqZWN0XHJcbiAqICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAkcmVmOiBcIiMvZGVmaW5pdGlvbnMvVHJhaW5cIlxyXG4gKiAgIHJlcXVlc3RCb2R5OlxyXG4gKiAgICBjb250ZW50OlxyXG4gKiAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICogICAgICBzY2hlbWE6XHJcbiAqICAgICAgICRyZWY6IFwiIy9kZWZpbml0aW9ucy9UcmFpblwiXHJcbiAqICAgcmVzcG9uc2VzOlxyXG4gKiAgICAyMDA6XHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3VjY2Vzc1xyXG4gKiAgICAgY29udGVudDpcclxuICogICAgICBhcHBsaWNhdGlvbi9qc29uOlxyXG4gKiAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAkcmVmOiBcIiMvZGVmaW5pdGlvbnMvVHJhaW5cIlxyXG4gKi9cclxuIC8vZWRpdCB0cmFpblxyXG5hcHAucHV0KCcvYWRtaW4vOnRyYWluJywocmVxLHJlcyk9PntcclxuICAgIGF4aW9zLnB1dChcImh0dHA6Ly9sb2NhbGhvc3Q6NDU0NS90cmFpbi9cIityZXEucGFyYW1zLnRyYWluLHJlcS5ib2R5KS50aGVuKChyZXNwb25zZSk9PntcclxuICAgICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSk7XHJcbiAgICB9KS5jYXRjaChlcnI9PntcclxuICAgICAgaWYoZXJyKXtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9hZG1pbi97dHJhaW5uYW1lfTpcclxuICogIGRlbGV0ZTpcclxuICogICBzdW1tYXJ5OiBkZWxldGUgdHJhaW5cclxuICogICBkZXNjcmlwdGlvbjogZGVsZXRlIHRyYWluXHJcbiAqICAgcGFyYW1ldGVyczpcclxuICogICAgLSBpbjogcGF0aFxyXG4gKiAgICAgIG5hbWU6IHRyYWlubmFtZVxyXG4gKiAgICAgIHNjaGVtYTpcclxuICogICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgIGRlc2NyaXB0aW9uOiBuYW1lIG9mIHRyYWluXHJcbiAqICAgICAgIGV4YW1wbGU6ICdNdW1iYWkgRXhwcmVzcydcclxuICogICByZXNwb25zZXM6XHJcbiAqICAgIDIwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBzdWNjZXNzXHJcbiAqICAgIDUwMDpcclxuICogICAgIGRlc2NyaXB0aW9uOiBmYWlsdXJlXHJcbiAqL1xyXG4vL2RlbGV0ZSB0cmFpbiBieSB0cmFpbm5hbWVcclxuYXBwLmRlbGV0ZSgnL2FkbWluLzp0cmFpbicsKHJlcSxyZXMpPT57XHJcbiAgICBheGlvcy5kZWxldGUoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW4vXCIgK3JlcS5wYXJhbXMudHJhaW4pLnRoZW4oKHJlc3BvbnNlKT0+e1xyXG4gICAgICByZXMuanNvbihcIkRlbGV0ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgfSkuY2F0Y2goZXJyPT57XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG59KTtcclxuXHJcbi8vZGVsZXRlIGFsbCBUcmFpbnNcclxuYXBwLmRlbGV0ZSgnL2FkbWluL3RyYWlucycsKHJlcSxyZXMpPT57XHJcbiAgICBheGlvcy5kZWxldGUoXCJodHRwOi8vbG9jYWxob3N0OjQ1NDUvdHJhaW5cIikudGhlbigocmVzcG9uc2UpPT57XHJcbiAgICAgIHJlcy5zZW5kKFwiRGVsZXRlZCBhbGwgdHJhaW5zIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG59KTtcclxuXHJcblxyXG5hcHAubGlzdGVuKDcwNzAsKCk9PntcclxuICBjb25zb2xlLmxvZyhcIlVwIGFuZCBydW5uaW5nISAtLSBUaGlzIGlzIG91ciBBZG1pbnMgU2VydmljZVwiKTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcclxuIl19